<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="Just Be Unreserved!" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="Android Developer">
<meta property="og:type" content="website">
<meta property="og:title" content="Just Be Unreserved!">
<meta property="og:url" content="http://www.easydone.cn/page/9/index.html">
<meta property="og:site_name" content="Just Be Unreserved!">
<meta property="og:description" content="Android Developer">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Just Be Unreserved!">
<meta name="twitter:description" content="Android Developer">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"hide"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> Just Be Unreserved! </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Just Be Unreserved!</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">学无止境。</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/04/29/" itemprop="url">
                  Linux下安装配置nginx+php+mysql环境
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-04-29T16:03:24+08:00" content="Apr 29 2013">
              Apr 29 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/04/29/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/04/29/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>由于最近比较忙，写的比较简略，步骤不够详细，不过基本按着这步骤顺下来，也不会出什么问题，先记录下来，以后有空再丰富下内容。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y update&#10;&#10;yum install gcc pcre pcre-devel zlib zlib-devel openssl openssl-devel //&#23433;&#35013;&#20381;&#36182;&#21253;&#10;&#10;/usr/sbin/groupadd nginx&#10;&#10;/usr/sbin/useradd -g nginx -M nginx&#10;&#10;mkdir -p /var/tmp/nginx/client //&#21019;&#24314;&#29992;&#25143;&#10;&#10;yum -y install php mysql mysql-server mysql-devel php-mysql php-cgi php-mbstring php-gd php-fastcgi //&#23433;&#35013;php&#21644;mysql&#10;&#10;rpm -ivh http://download.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm&#10;&#10;//&#21551;&#29992;redhat&#38468;&#20214;&#21253;&#10;&#10;yum install nginx //&#23433;&#35013;nginx&#10;&#10;chkconfig nginx on //&#35774;&#32622;&#24320;&#26426;&#21551;&#21160;&#10;&#10;yum install spawn-fcgi //&#23433;&#35013;spawn-fcgi&#26469;&#36816;&#34892;php-cgi&#10;&#10;wget http://bash.cyberciti.biz/dl/419.sh.zip&#10;&#10;unzip 419.sh.zip&#10;&#10;mv 419.sh /etc/init.d/php_cgi&#10;&#10;chmod +x /etc/init.d/php_cgi // &#33719;&#21462;spawn-fcgi &#30340;&#21551;&#21160;&#33050;&#26412;&#10;&#10;service php_cgi start //&#21551;&#21160;php_cgi&#10;&#10;location ~ \.php$ &#123;&#10;&#10;root /var/www; //&#32593;&#31449;&#26681;&#30446;&#24405;&#10;&#10;fastcgi_pass 127.0.0.1:9000;&#10;&#10;fastcgi_index index.php;&#10;&#10;fastcgi_param SCRIPT_FILENAME /var/www$fastcgi_script_name;&#10;&#10;include fastcgi_params;&#10;&#10;&#125; //&#37197;&#32622;nginx.conf&#10;&#10;&#65288;root&#25351;&#23450;&#32593;&#31449;&#26681;&#30446;&#24405;&#65307;fastcgi_param&#25351;&#23450;&#25918;&#32622;PHP&#21160;&#24577;&#31243;&#24207;&#30340;&#20027;&#30446;&#24405;&#65292;&#21363;$fastcgi_script_name&#21069;&#38754;&#30340;&#36335;&#24452;&#65289;&#10;&#10;yum install phpmyadmin //&#23433;&#35013;phpmyadmin&#10;&#10;chmod +x /var/lib/php/session //&#20462;&#25913;/var/lib/php/session&#21644;php_cgi&#26435;&#38480;&#19968;&#33268;&#10;&#10;chown -R nginx.nginx /var/lib/php/session</span><br></pre></td></tr></table></figure>
<p>将网站目录放在/var/www目录下，访问<a href="http://IP/网站目录即可。" target="_blank" rel="external">http://IP/网站目录即可。</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/04/11/" itemprop="url">
                  Linux下拷贝MySql数据库文件备份数据库
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-04-11T18:05:20+08:00" content="Apr 11 2013">
              Apr 11 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/DataBase/" itemprop="url" rel="index">
                    <span itemprop="name">DataBase</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/04/11/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/04/11/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>大致上MySql数据库备份可以采用两种方式：一种就是直接导出sql语句或者易于导入的其他格式的sql存储文件，使用sql语句或者一些可视化客户端导出，这种方法非常简单，无需赘述；另一种方法就是拷贝出数据库文件，再将数据库文件转换成sql文件，这篇文章就介绍一下这种方法。</p>
<p>①查找数据库文件存放位置，MySql文件的后缀有三种形式<em>.MYD、</em>.MYI、*.frm；<br><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">find</span> / -<span class="built_in">name</span> *.MYD</span><br></pre></td></tr></table></figure></p>
<p>②进入数据库存储文件目录；<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd <span class="regexp">/opt/</span>lanmp<span class="regexp">/mysql-5.1.63/</span>win<span class="regexp">/data/</span></span><br></pre></td></tr></table></figure></p>
<p>③使用copy命令把所有数据拷出去；</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">copy</span> <span class="bash">mysql /home</span></span><br></pre></td></tr></table></figure>
<p>④此时只需将这些数据库文件转换成sql文件，这也是这篇文章里我要讲的重点，如果需要的时候再将sql文件用命令导入即可；</p>
<p>⑤新建一个数据库命名为mysqlbak，将刚才拷出来的文件夹拷入新数据库的data文件夹；<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find / -name mysqlbak</span><br><span class="line">cd <span class="regexp">/home/</span>mysql</span><br><span class="line">copy * <span class="regexp">/www/</span>wdlinux<span class="regexp">/mysql-5.1.63/</span>var<span class="regexp">/mysqlbak/</span></span><br></pre></td></tr></table></figure></p>
<p>⑥此时就已经可以看到新数据库mysqlbak里的数据了，跟原数据库mysql里的数据是一样的；</p>
<p>⑦使用命令导出数据库文件即可。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -<span class="tag">p</span> mysqlbak /home/mysql.sql</span><br></pre></td></tr></table></figure>
<p>⑧这home文件夹下的文件mysql.sql文件就是易导入的数据库文件。需要注意的是所有的操作都必须在操作系统下用命令完成，而不提倡使用工具。因为在实际操作过程中，我们经常会遇到数据库里的数据库文件版本和数据库版本不一致，或者新旧数据库版本不一致的问题，再或者数据服务器版本与客户端工具不兼容等意想不到的问题，如果是这种情况，使用工具导出一般会报“1577:Cannot proceed because system tables used by Event Scheduler were found damaged at server start”的错误。说到这里，其实本文也提供了一种打开mysql数据库文件的方法，如果现在只有一堆<em>.MYD、</em>.MYI、*.frm文件，执行步骤⑤到步骤⑧即可。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/04/01/" itemprop="url">
                  CentOS下SVN服务器的搭建使用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-04-01T15:20:09+08:00" content="Apr 1 2013">
              Apr 1 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/04/01/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/04/01/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>SVN作为新一代代码版本管理工具，有很多优点，管理方便，逻辑明确，安全性高，代码一致性高。SVN数据存储有两种方式，<strong>BDB（事务安全表类型）</strong>和<strong>FSFS（一种不需要数据库的存储系统）</strong>，为了避免在服务器连接中断时锁住数据，FSFS是一种更安全也更多人使用的方式。SVN的运行方式也有两种，一种是<strong>独立服务器</strong>，另一种是<strong>借助apache服务</strong>，各有利弊，下面就介绍一下这两种方式各自的部署步骤。</p>
<p>##<strong>作为独立服务器运行：</strong></p>
<p>①安装svn<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install</span> svn</span><br></pre></td></tr></table></figure></p>
<p>②创建版本库<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /svn/<span class="keyword">project</span>    <span class="comment">#创建版本库所在文件夹</span></span><br><span class="line">svnadmin create--fs-type fsfs /svn/<span class="keyword">project</span>/first   <span class="comment">#创建版本库，如果需要使用bdb方式存储，则将fsfs改成bdb即可</span></span><br></pre></td></tr></table></figure></p>
<p>③初始化版本库，即导入文件到版本库中<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">svn import /home/software <span class="symbol">file:</span>/<span class="regexp">//svn</span><span class="regexp">/project/first</span>--message <span class="string">"初始化版本"</span>  <span class="comment">#将home文件夹的文件导入版本库</span></span><br><span class="line">svn list --verbose <span class="symbol">file:</span>/<span class="regexp">//svn</span><span class="regexp">/project/first</span> <span class="comment">#查看导入的文件</span></span><br></pre></td></tr></table></figure></p>
<p>④启动svn服务，svn服务默认端口为3690，可以使用“netstat -ntlp”命令查看服务启动是否成功<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svnserve -d -r <span class="regexp">/svn/</span><span class="keyword">project</span><span class="regexp">/first</span></span><br></pre></td></tr></table></figure></p>
<p>⑤修改策略控制文件，vi authz，如果以后要添加用户，就将用户名加在相应的用户组（admin或者user）后面即可<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">### This file is an example authorization file for svnserve.</span></span><br><span class="line"><span class="preprocessor">### Its format is identical to that of mod_authz_svn authorization</span></span><br><span class="line"><span class="preprocessor">### files.</span></span><br><span class="line"><span class="preprocessor">### As shown below each section defines authorizations for the path and</span></span><br><span class="line"><span class="preprocessor">### (optional) repository specified by the sectionname.</span></span><br><span class="line"><span class="preprocessor">### The authorizations follow. An authorization line can refer to:</span></span><br><span class="line"><span class="preprocessor">### - a single user,</span></span><br><span class="line"><span class="preprocessor">### - a groupof users defined in a special [groups] section,</span></span><br><span class="line"><span class="preprocessor">### - an alias defined in a special [aliases] section,</span></span><br><span class="line"><span class="preprocessor">### - all authenticated users, using the '$authenticated' token,</span></span><br><span class="line"><span class="preprocessor">### - only anonymous users, using the '$anonymous' token,</span></span><br><span class="line"><span class="preprocessor">### - anyone, using the '*' wildcard.</span></span><br><span class="line"><span class="preprocessor">###</span></span><br><span class="line"><span class="preprocessor">### A match can be inverted by prefixing the rulewith'~'. Rules can</span></span><br><span class="line"><span class="preprocessor">### grantread ('r') access, read-write ('rw') access, orno access</span></span><br><span class="line"><span class="preprocessor">### ('').</span></span><br><span class="line">[aliases]</span><br><span class="line"><span class="preprocessor"># joe = /C=XZ/ST=Dessert/L=Snake City/O=Snake Oil, Ltd./OU=Research Institute/CN=Joe Average</span></span><br><span class="line">[groups]</span><br><span class="line"><span class="preprocessor"># harry_and_sally = harry,sally</span></span><br><span class="line"><span class="preprocessor"># harry_sally_and_joe = harry,sally,&amp;joe</span></span><br><span class="line">admin=first,second,third       #用户组admin包含的成员</span><br><span class="line">user=anyone             #用户组user包含的成员</span><br><span class="line"><span class="preprocessor"># [/foo/bar]</span></span><br><span class="line"><span class="preprocessor"># harry = rw</span></span><br><span class="line"><span class="preprocessor"># &amp;joe = r</span></span><br><span class="line"><span class="preprocessor"># * =</span></span><br><span class="line"><span class="preprocessor"># [repository:/baz/fuz]</span></span><br><span class="line"><span class="preprocessor"># @harry_and_sally = rw</span></span><br><span class="line"><span class="preprocessor"># * = r</span></span><br><span class="line">[/]</span><br><span class="line">@admin=rw             #用户组admin内成员拥有读写权限</span><br><span class="line">@user=r              #用户组user内成员拥有读权限</span><br></pre></td></tr></table></figure></p>
<p>⑥添加svn访问用户，vi passwd，为authz里分配的用户设置密码，等号左边为用户名，等号右边是密码；<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### This file is an example password file for svnserve.</span></span><br><span class="line"><span class="comment">### Its format is similar to that of svnserve.conf. As shown in the</span></span><br><span class="line"><span class="comment">### example below it contains one section labelled [users].</span></span><br><span class="line"><span class="comment">### The nameandpasswordfor each user follow, one account per line.</span></span><br><span class="line">[users]</span><br><span class="line"><span class="comment"># harry = harryssecret</span></span><br><span class="line"><span class="comment"># sally = sallyssecret</span></span><br><span class="line"><span class="keyword">first</span>=<span class="keyword">first</span></span><br><span class="line"><span class="keyword">second</span>=<span class="keyword">second</span></span><br><span class="line"><span class="keyword">third</span>=<span class="keyword">third</span></span><br><span class="line">anyone=anyone</span><br></pre></td></tr></table></figure></p>
<p>⑦修改svn读取的权限策略文件<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">vi</span> /svn/project/<span class="keyword">first</span>/<span class="keyword">conf</span>/svnserve.<span class="keyword">conf</span>：</span><br></pre></td></tr></table></figure></p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">anon-access = <span class="constant">none</span>  <span class="comment">#不允许匿名用户读写</span></span><br><span class="line">auth-access = <span class="built_in">write</span></span><br><span class="line">password-db = passwd <span class="comment">#svn读取的passwd文件</span></span><br><span class="line">authz-db = authz   <span class="comment">#svn读取的权限控制文件</span></span><br></pre></td></tr></table></figure>
<p>⑧安装svn客户端，就可以使用客户端通过如下的url就可以访问了<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">svn:</span>/<span class="regexp">/IP地址/svn</span><span class="regexp">/project/first</span></span><br></pre></td></tr></table></figure></p>
<p>##<strong>借助apache服务器，通过web端访问svn</strong></p>
<p>①给apache服务器安装两个svn插件，这两个插件同样可以使用yum安装<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install</span> mod_dav_svn   <span class="comment">#使subversion与dav模块通信的功能</span></span><br><span class="line">yum <span class="keyword">install</span> mod_authz_svn  <span class="comment">#实现权限控制功能</span></span><br></pre></td></tr></table></figure></p>
<p>②使用命令“httpd -M”可以查看是否加载这两个模块，如加载，则有如下回应：<br><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">Loaded Modules:</span><br><span class="line"> core_module (<span class="keyword">static</span>)</span><br><span class="line"> mpm_prefork_module (<span class="keyword">static</span>)</span><br><span class="line"> http_module (<span class="keyword">static</span>)</span><br><span class="line"> so_module (<span class="keyword">static</span>)</span><br><span class="line"> auth_basic_module (shared)</span><br><span class="line"> auth_digest_module (shared)</span><br><span class="line"> authn_file_module (shared)</span><br><span class="line"> authn_alias_module (shared)</span><br><span class="line"> authn_anon_module (shared)</span><br><span class="line"> authn_dbm_module (shared)</span><br><span class="line"> authn_default_module (shared)</span><br><span class="line"> authz_host_module (shared)</span><br><span class="line"> authz_user_module (shared)</span><br><span class="line"> authz_owner_module (shared)</span><br><span class="line"> authz_groupfile_module (shared)</span><br><span class="line"> authz_dbm_module (shared)</span><br><span class="line"> authz_default_module (shared)</span><br><span class="line"> ldap_module (shared)</span><br><span class="line"> authnz_ldap_module (shared)</span><br><span class="line"> include_module (shared)</span><br><span class="line"> log_config_module (shared)</span><br><span class="line"> logio_module (shared)</span><br><span class="line"> env_module (shared)</span><br><span class="line"> ext_filter_module (shared)</span><br><span class="line"> mime_magic_module (shared)</span><br><span class="line"> expires_module (shared)</span><br><span class="line"> deflate_module (shared)</span><br><span class="line"> headers_module (shared)</span><br><span class="line"> usertrack_module (shared)</span><br><span class="line"> setenvif_module (shared)</span><br><span class="line"> mime_module (shared)</span><br><span class="line"> dav_module (shared)</span><br><span class="line"> status_module (shared)</span><br><span class="line"> autoindex_module (shared)</span><br><span class="line"> info_module (shared)</span><br><span class="line"> dav_fs_module (shared)</span><br><span class="line"> vhost_alias_module (shared)</span><br><span class="line"> negotiation_module (shared)</span><br><span class="line"> dir_module (shared)</span><br><span class="line"> actions_module (shared)</span><br><span class="line"> speling_module (shared)</span><br><span class="line"> userdir_module (shared)</span><br><span class="line"> alias_module (shared)</span><br><span class="line"> substitute_module (shared)</span><br><span class="line"> rewrite_module (shared)</span><br><span class="line"> proxy_module (shared)</span><br><span class="line"> proxy_balancer_module (shared)</span><br><span class="line"> proxy_ftp_module (shared)</span><br><span class="line"> proxy_http_module (shared)</span><br><span class="line"> proxy_ajp_module (shared)</span><br><span class="line"> proxy_connect_module (shared)</span><br><span class="line"> cache_module (shared)</span><br><span class="line"> suexec_module (shared)</span><br><span class="line"> disk_cache_module (shared)</span><br><span class="line"> cgi_module (shared)</span><br><span class="line"> version_module (shared)</span><br><span class="line"> authz_ldap_module (shared)</span><br><span class="line"> dav_svn_module (shared)</span><br><span class="line"> authz_svn_module (shared)</span><br><span class="line">Syntax OK</span><br></pre></td></tr></table></figure></p>
<p>③编辑apache服务配置文件vi /etc/httpd/conf/httpd.conf，加入下面几行：<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;Location /svn&gt;</span><br><span class="line">DAV svn</span><br><span class="line">SVNPath /svn/project/first</span><br><span class="line">AuthzSVNAccessFile /etc/httpd/<span class="keyword">conf</span>.<span class="keyword">d</span>/authz #apache服务器读取的权限策略文件</span><br><span class="line">AuthType Basic</span><br><span class="line">AuthName <span class="string">"Project"</span></span><br><span class="line">AuthUserFile /etc/httpd/<span class="keyword">conf</span>.<span class="keyword">d</span>/passwd  #apache服务器读取的密码存储文件</span><br></pre></td></tr></table></figure></p>
<p>④编辑文件authz放在文件夹/etc/httpd/conf.d中，文件格式同文章上面的那个authz文件，编辑文件passwd放在文件夹/etc/httpd/conf.d中，使用如下命令生成用户名和密码<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">htpasswd -c <span class="regexp">/svn/</span><span class="keyword">project</span><span class="regexp">/first admin  #命令为htpasswd，-c为参数，/</span>svn<span class="regexp">/project/</span>first为访问的版本库，admin为用户名</span><br></pre></td></tr></table></figure></p>
<p>然后重复输入你想设置的密码就可以自动存储在文件passwd中，默认为md5存储。</p>
<p>⑤重启apache服务，就可以在网页端使用刚才设置的用户名密码访问了，网址为<a href="http://IP地址:端口/svn" target="_blank" rel="external">http://IP地址:端口/svn</a></p>
<p>##<strong>配置多项目创建维护:</strong></p>
<p>其实过程也比较简单，只需要在原来的基础上修改一点信息就可以了。</p>
<p>举个例子，比如有first和second两个项目,要实现多项目的启动管理，只需要修改对应项目配置文件authz的管理路径即可，如下：</p>
<p>###<em>单项目：</em><br><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[/]</span><br><span class="line">  <span class="annotation">@admin</span>=rw</span><br><span class="line">  <span class="annotation">@user</span>=r</span><br></pre></td></tr></table></figure></p>
<p>启动：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svnserve -d -r <span class="regexp">/svn/</span><span class="keyword">project</span><span class="regexp">/first</span></span><br></pre></td></tr></table></figure></p>
<p>或者<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svnserve -d -r <span class="regexp">/svn/</span><span class="keyword">project</span><span class="regexp">/second</span></span><br></pre></td></tr></table></figure></p>
<p>无法同时启动多个项目，因此也就无法同事访问多个项目；</p>
<p>###<em>多项目：</em><br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">first:</span>/]</span><br><span class="line"><span class="annotation">@admin</span>=rw</span><br><span class="line"><span class="annotation">@user</span>=r</span><br><span class="line">[<span class="string">second:</span>/]</span><br><span class="line"><span class="annotation">@admin</span>=rw</span><br><span class="line"><span class="annotation">@user</span>=r</span><br></pre></td></tr></table></figure></p>
<p>启动：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svnserve -d -r <span class="regexp">/svn/</span><span class="keyword">project</span><span class="regexp">/</span></span><br></pre></td></tr></table></figure></p>
<p>这样就可以启动所有project下的项目了。</p>
<p>很容易理解，但项目里的“/”代表项目根目录，可以使这样“/svn/project/first”或者“/svn/project/second”，多项目里的“/”代表“/svn/project”，在此基础上加上“first:”或者“second：”就切到对应项目里了。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/03/20/" itemprop="url">
                  RedHat和CentOS使用本地yum源配置
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-03-20T11:38:12+08:00" content="Mar 20 2013">
              Mar 20 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/03/20/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/20/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>使用yum命令安装所需的软件，如果设备网络状况很好，当然也没必要去配置本地yum源，直接使用命令“yum install + 软件名字”即可。</p>
<p>如果由于一些原因，无法使用网络或者网络状况不好，使用本地yum源会很方便。</p>
<p>RedHat和CentOS的操作步骤基本一致，略有不同。</p>
<p>1、首先介绍一下RedHat中yum源的配置：</p>
<p>①挂载镜像：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir <span class="regexp">/mnt/</span>cdrom </span><br><span class="line">cd <span class="regexp">/mnt/</span>cdrom </span><br><span class="line">mount <span class="regexp">/dev/</span>cdrom <span class="regexp">/mnt/</span>cdrom</span><br></pre></td></tr></table></figure></p>
<p>②修改配置文件：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/yum<span class="class">.repos</span><span class="class">.d</span></span><br></pre></td></tr></table></figure></p>
<p>③ls查看文件，使用mv命令将列出的文件都备份一下，格式如下：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv RedHat-Base<span class="class">.repo</span> RedHat-Base<span class="class">.repo</span><span class="class">.bak</span></span><br></pre></td></tr></table></figure></p>
<p>④新建yum源配置文件：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">vi</span> <span class="tag">RedHat</span><span class="class">.repo</span></span><br></pre></td></tr></table></figure></p>
<p>⑤具体配置文件内容如下：<br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">[Server] </span><br><span class="line"></span><br><span class="line"><span class="constant">name</span>=Server </span><br><span class="line"></span><br><span class="line"><span class="constant">baseurl</span>=file:///mnt/cdrom/Server </span><br><span class="line"></span><br><span class="line"><span class="constant">gpgcheck</span>=0 </span><br><span class="line"></span><br><span class="line"><span class="constant">enable</span> =1 </span><br><span class="line"></span><br><span class="line">[VT] name=VT </span><br><span class="line"></span><br><span class="line"><span class="constant">baseurl</span>=file:///mnt/cdrom/VT </span><br><span class="line"></span><br><span class="line"><span class="constant">gpgcheck</span>=0 </span><br><span class="line"></span><br><span class="line"><span class="constant">enable</span> =1 </span><br><span class="line"></span><br><span class="line">[Cluster] </span><br><span class="line"></span><br><span class="line"><span class="constant">name</span>=Cluster </span><br><span class="line"></span><br><span class="line"><span class="constant">baseurl</span>=file:///mnt/cdrom/Cluster </span><br><span class="line"></span><br><span class="line"><span class="constant">gpgcheck</span>=0 </span><br><span class="line"></span><br><span class="line"><span class="constant">enable</span> =1 </span><br><span class="line"></span><br><span class="line">[ClusterStorage] </span><br><span class="line"></span><br><span class="line"><span class="constant">name</span>=ClusterStorage </span><br><span class="line"></span><br><span class="line"><span class="constant">baseurl</span>=file:///mnt/cdrom/ClusterStorage </span><br><span class="line"></span><br><span class="line"><span class="constant">gpgcheck</span>=0 </span><br><span class="line"></span><br><span class="line"><span class="constant">enable</span> =1</span><br></pre></td></tr></table></figure></p>
<p>2、CentOS本地yum源配置前面的步骤跟RedHat都一样，只是配置文件内容比RedHat要少一下，如下：<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">[CentOS]</span> </span><br><span class="line"></span><br><span class="line"><span class="setting">name=<span class="value">CentOS </span></span></span><br><span class="line"></span><br><span class="line"><span class="setting">baseurl=<span class="value">file:///mnt/cdrom </span></span></span><br><span class="line"></span><br><span class="line"><span class="setting">gpgcheck=<span class="value"><span class="number">0</span> </span></span></span><br><span class="line"></span><br><span class="line"><span class="setting">enable=<span class="value"><span class="number">1</span></span></span></span><br></pre></td></tr></table></figure></p>
<p>至此，就可以直接使用“yum install + 软件名字”命令安装镜像里存在的软件包了。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/02/01/" itemprop="url">
                  ListView控件的使用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-02-01T22:16:41+08:00" content="Feb 1 2013">
              Feb 1 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/02/01/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/02/01/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ListView是一个用于<strong>列表显示数据</strong>的高级控件。</p>
<p>使用ListView控件的前提条件是每个条目都非常类似。</p>
<p>使用ListView必须要有适配器，除了可以自定义适配器，常用的适配器还有<strong>ArrayAdapter（数组适配器）和SimpleAdapter（简单适配器）</strong>，这些适配器都是继承了<strong>BaseAdapter</strong>，实现BaseAdapter中的getCount()，getItem(int position)，getItemId(int position)，getView(int position, View convertView, ViewGroup parent)这四个方法。</p>
<p>##ArrayAdapter的使用##</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组适配器</span></span><br><span class="line"><span class="built_in">String</span>[] objects = <span class="keyword">new</span> <span class="built_in">String</span>[]&#123;<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>,<span class="string">"d"</span>,<span class="string">"e"</span>,<span class="string">"f"</span>,<span class="string">"g"</span>,<span class="string">"h"</span>,<span class="string">"i"</span>&#125;;</span><br><span class="line">ListView lv = (ListView) findViewById(R.id.lv);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ArrayAdapter只能显示文本控件 并且只能是一个文本控件</span></span><br><span class="line">ArrayAdapter&lt;<span class="built_in">String</span>&gt; adapter = <span class="keyword">new</span> ArrayAdapter&lt;<span class="built_in">String</span>&gt;(<span class="keyword">this</span>,<span class="comment">//上下文</span></span><br><span class="line">		android.R.layout.simple_list_item_1,<span class="comment">//条目的布局   android系统底层会有一些简单的布局 引用android底层的资源</span></span><br><span class="line">		android.R.id.text1,<span class="comment">//条目里面的控件的id</span></span><br><span class="line">		objects);<span class="comment">//要显示的数据</span></span><br><span class="line">lv.setAdapter(adapter);</span><br><span class="line"><span class="comment">//如果以后开发看到简单的文字列表显示那么使用ArrayAdapter是最方便</span></span><br></pre></td></tr></table></figure>
<p>##SimpleAdapter的使用##</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//简单适配器</span></span><br><span class="line"><span class="keyword">String</span>[] objects = <span class="keyword">new</span> <span class="keyword">String</span>[]&#123;<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>,<span class="string">"d"</span>,<span class="string">"e"</span>,<span class="string">"f"</span>,<span class="string">"g"</span>,<span class="string">"h"</span>,<span class="string">"i"</span>&#125;;</span><br><span class="line">ListView lv = (ListView) findViewById(R.id.lv);</span><br><span class="line"></span><br><span class="line"><span class="keyword">String</span>[] from = <span class="keyword">new</span> <span class="keyword">String</span>[]&#123;<span class="string">"name"</span>,<span class="string">"age"</span>&#125;;</span><br><span class="line"><span class="built_in">int</span>[] to = <span class="keyword">new</span> <span class="built_in">int</span>[]&#123;android.R.id.text1,android.R.id.text2&#125;;</span><br><span class="line"><span class="keyword">final</span> SimpleAdapter adapter = <span class="keyword">new</span> SimpleAdapter(<span class="keyword">this</span>,<span class="comment">//上下文</span></span><br><span class="line">		data,<span class="comment">//数据 List&lt;? extends Map&lt;String, ?&gt;&gt; data</span></span><br><span class="line">		android.R.layout.simple_list_item_2,<span class="comment">//条目的布局文件</span></span><br><span class="line">		from,<span class="comment">//String[] from 数据从哪里来</span></span><br><span class="line">		to);<span class="comment">//int[] to</span></span><br><span class="line">lv.setAdapter(adapter);</span><br><span class="line"><span class="comment">//给ListView的条目设置条目点击监听</span></span><br><span class="line">lv.setOnItemClickListener(<span class="keyword">new</span> OnItemClickListener() &#123;</span><br><span class="line">	<span class="comment">//点击条目的时候，方法别调用  int position 条目的位置</span></span><br><span class="line">	@Override</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> onItemClick(AdapterView&lt;?&gt; parent, View view, <span class="built_in">int</span> position, <span class="keyword">long</span> id) &#123;</span><br><span class="line">		<span class="comment">//适配器提供了一个方法getItem(position) 可以获取条目对应的数据</span></span><br><span class="line">		Map&lt;<span class="keyword">String</span>,<span class="keyword">Object</span>&gt; <span class="built_in">map</span> = (Map&lt;<span class="keyword">String</span>, <span class="keyword">Object</span>&gt;) adapter.getItem(position);</span><br><span class="line">		<span class="keyword">String</span> <span class="built_in">text</span> = <span class="string">"姓名:"</span>+<span class="built_in">map</span>.<span class="built_in">get</span>(<span class="string">"name"</span>)+<span class="string">",age:"</span>+<span class="built_in">map</span>.<span class="built_in">get</span>(<span class="string">"age"</span>);</span><br><span class="line">		Toast.makeText(getApplicationContext(), <span class="built_in">text</span>, <span class="number">1</span>).show();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>##开发中ListView的使用步骤##</p>
<ol>
<li>在布局中写好ListView控件；</li>
<li>使用findViewById(R.id.lv)获取空间；</li>
<li>给ListView设置适配器lv.setAdapter()；</li>
</ol>
<p>其中重点和难点都是给ListView设置适配器这部分：<br><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自定义适配器继承BaseAdapter</span></span><br><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAdapter</span> <span class="keyword">extends</span> <span class="title">BaseAdapter</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> Context context;</span><br><span class="line">	<span class="keyword">private</span> List&lt;Student&gt; students;</span><br><span class="line">    <span class="comment">//布局加载器</span></span><br><span class="line">	<span class="keyword">private</span> LayoutInflater mInflater;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyAdapter</span><span class="params">(Context context, List&lt;Student&gt; students)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">		<span class="keyword">this</span>.context = context;</span><br><span class="line">		<span class="keyword">this</span>.students = students;</span><br><span class="line">		mInflater = LayoutInflater.from(context);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取ListView条目的数量</span></span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">return</span> students.<span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="function">Object <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">return</span> students.<span class="title">get</span><span class="params">(position)</span></span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">long</span> <span class="title">getItemId</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="function">View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position, View convertView, ViewGroup parent)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//使用布局加载器加载布局文件，此处的ViewGroup指向ListView，只是加载布局，而不是加在内容，因此应为null</span></span><br><span class="line">		View view = mInflater.inflate(R.layout.item, <span class="keyword">null</span>);</span><br><span class="line">		<span class="comment">//从view中获取对应的控件</span></span><br><span class="line">		<span class="comment">//findViewById(id);   findViewById(id)是加载Activity布局文件的控件，而此处是从view中获取对应控件，因此一定不能忘记要使用下面的方式获取，前面要加上view</span></span><br><span class="line">		TextView tv_name = (TextView) view.findViewById(R.id.tv_name);</span><br><span class="line">		TextView tv_age = (TextView) view.findViewById(R.id.tv_age);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//获取条目对应的数据</span></span><br><span class="line">		Student student = students.get(position);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//把数据绑定给指定的控件</span></span><br><span class="line">		tv_name.setText(student.name);</span><br><span class="line">        <span class="comment">//age是int类型，而setText()方法传入的参数有两种形式，一种是String，直接将需要的属性传进去，还有一种是int，这个int指的是resid，即资源id，会出现资源找不到异常</span></span><br><span class="line">		tv_age.setText(student.age+<span class="string">""</span>);</span><br><span class="line">		<span class="comment">//返回view，一定要返回view，否则会出现空指针异常</span></span><br><span class="line">		<span class="keyword">return</span> view;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面的代码里，其中创建ListView显示的条目又可以分为以下几个步骤：</p>
<p>View getView() {</p>
<ul>
<li>使用布局加载器加载布局；</li>
<li>找到布局中的控件；</li>
<li>找到条目对应的数据；</li>
<li>把数据绑定给对应控件；</li>
<li>返回条目</li>
</ul>
<p>}</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/01/16/" itemprop="url">
                  离职感想
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-01-16T08:56:07+08:00" content="Jan 16 2013">
              Jan 16 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/感悟/" itemprop="url" rel="index">
                    <span itemprop="name">感悟</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/01/16/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/01/16/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>要离开公司了，人生历程第一份工作，总觉得应该分外珍惜，可惜事与愿违，如今却离开了。有了更好的选择就离开。更好的选择有时候是很难想得开的东西，有的人理解待遇好就都好，有的人理解公正的评价对自己很重要，有的人未雨绸缪找好了退路，有的人则更看重舒适的工作环境，更甚至有人觉得单纯地选择离开就比留下更适合自己……最近大雾比较严重，很多人都选择了戴口罩，我却固执地选择坚决不戴，这并不是说我不讲卫生、不注重自己的身体健康，因为我有鼻炎，戴上口罩呼吸说话都不方便，所以不戴口罩才是更好的选择。</p>
<p>不管怎样，总得留下点以后用以几年的寄托，所以对我来说，现在最要紧的任务就是完成这篇日志，表达我对各位朋友的感谢。希望各位都记得我的好，忘掉我的不好，即使忘不掉，也请不要让我知道。如果其中哪一位对我不满，打过我小报告或者给我穿过小鞋，都请永远不要让我知道。</p>
<p>老赵，我进公司第一个近距离接触的人，带我去的西区，带我回的东区，对所有的实习生都像是已经相处很久的老朋友，总能最真诚对每一个人，对他我要表达的不仅是感谢，他更是我的榜样，学习的目标。离开了，现在依然是邻居，总说要邀请老赵去我家吃饭，尝尝我的手艺，总被各种托辞拒绝，其实我想说我真的会做菜。以后，也许还有机会吧。</p>
<p>西勇，算是在公司对我帮助最大的一个人吧，现在我所掌握的技能知识，几乎全部都是西勇教给我的，我也把他当作自己的大哥来看待。平常工作里，我出了很多问题，给西勇造成很多麻烦，每次自己也很沮丧，但是他也从来没责怪过我，总是很耐心地帮我纠正，作为我最直接的领导，我要说抱歉，更要说谢谢。</p>
<p>郑浩，我进公司后第一个对我有重要影响的人，永远也忘不了在西区那段很短很短的日子。现在想想仍然怀念，如果一直是那个时候该多好……那个时候，我们坐的最近，接触最多，他讲的挂接数据源刚好也是那时候我掌握的最深的一段，虽然那时候所谓的学习都是很皮毛，现如今其他人讲的什么我是真的不记得了。</p>
<p>道远，是领导，也是学长。对他有佩服，有敬畏，接触的不多，但依然很感谢。现在想想，其实除了小欢，道远算是我见到的公司里的第一个人，比面试我的老板还要早。不过，估计他已经忘了。在他的领导下，我是我们那一批进公司中的第一个成项目经理的，而且真正意义上的出差也完全是我一个人，所有工作也都是一个人独立完成，虽然中间犯了很多错误，有一些不愉快，可当初我仍觉得这样的挑战和机会是自己的幸运，如今想来，却也有些迷惘了。</p>
<p>张阳、海杰、苗、高贺、刘坤、弘天的小甘和罗炜，这都是朋友了，不管他们是不是真当我是朋友，我是真的当他们是朋友了。现在想想是有蛮多遗憾的，经常在一起聊着说要团购，一起去吃东西，竟然一直到离开都没有机会。当然朋友之间经常调侃开玩笑，如果过火也可能会有一些不愉快，可我现在是什么都不记得了，我想他们也都不记得了。因为我觉得朋友应该是一辈子的。</p>
<p>恺哥，是学长，还是老乡，对我也是各种关照，希望以后在家里也能再见到他。还有环哥，当初去参加他的婚礼，上了200块的红包，因为考虑到我刚毕业就一身的债，又回给我100，代替他那段时间，也给他添了很多麻烦，实在对不起，还有万分地感谢。老曹，算是我从敬畏慢慢到熟悉以致越来越喜欢和尊重的一个人吧，难得有领导像他那样平易近人。当然还有金亭姐，就像母亲一样照顾着我们一群人，每次出差回来都给她造成很多麻烦，心里很过意不去，一直包容我的过错。传军，一些同事觉得他有些行为比较2，我倒觉得传军是难得的率真，像《步步惊心》里的十阿哥，跟他相处觉得非常容易，心里不用想任何东西。还有很多同事，都一并谢谢了。</p>
<p>说到感谢，更少不了晓兵，这是惟一一个接触过的销售，从他身上我学到了很多，许多东西别人可以教，但是他是惟一一个用亲身经历让我明白许多道理的人，我总觉得自己身上有一些东西很不适合现在的社会，那些自己曾经很引以为傲的、也曾被很多人认为是非常优秀的品质，现在看来都是幼稚。稍微有一点理想化的书生意气好像都活不下去，虽然自己以前经常会有努力去面对现实的想法，但是好像总也抹不去那份天真。也许等到自己以前不认同的东西都变成自己骨子里怎么也擦不掉的印记，我就更适合好好活下去了。</p>
<p>还有最该谢谢的，一直陪伴我的那个人，一直喊累，虽然她都不信……终于可以休息下了，其实我想说在决定要离开与真正离开之前这段时间是最累的。现在不工作了，也想说声对不起。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2012/07/25/" itemprop="url">
                  Java继承
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2012-07-25T21:19:18+08:00" content="Jul 25 2012">
              Jul 25 2012
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2012/07/25/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2012/07/25/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>##什么是继承？</p>
<p>多个类中存在相同属性和行为时，将这些内容抽取到单独一个类中，那么多个类无需再定义这些属性和行为，只要继承那个类即可。</p>
<p>多个类可以称为<strong>子类</strong>，单独这个类称为<strong>父类</strong>、<strong>超类</strong>或者<strong>基类</strong>。</p>
<p>子类可以直接访问父类中的<strong>非私有</strong>的属性和行为。</p>
<p>通过 <strong>extends</strong> 关键字让类与类之间产生继承关系。<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubDemo</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Demo</span>&#123;</span>&#125;	<span class="comment">//SubDemo是子类，Demo是父类</span></span><br></pre></td></tr></table></figure></p>
<p>##继承有什么好处？</p>
<ul>
<li>提高<strong>代码的复用性</strong>。</li>
<li>让类与类之间产生了关系，是<strong>多态的前提</strong>。</li>
</ul>
<p>##继承的特点</p>
<ol>
<li><p>Java只支持单继承，不支持多继承。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一个类只能有一个父类，不可以有多个父类。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubDemo</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Demo</span>&#123;</span>&#125; <span class="comment">//ok</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubDemo</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Demo1</span>,<span class="title">Demo2</span>...<span class="title">//error</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Java支持多层（重）继承(继承体系)。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>&#123;</span>&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">A</span>&#123;</span>&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">B</span>&#123;</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>##使用继承时的注意事项</p>
<ul>
<li>如果类之间存在着：is a 的关系，就可以考虑使用继承。</li>
<li>不要为了继承部分功能，而去使用继承。</li>
</ul>
<p>##super和this有什么区别?</p>
<p><strong><em>super</em></strong>是一个关键字，代表父类的<strong>存储空间标识</strong>。(可以理解为父亲的引用)</p>
<p>super和this的用法相似。</p>
<p>this代表<strong>对象的引用</strong>(谁调用就代表谁)；<br>super代表<strong>当前子类</strong>对<strong>父类</strong>的引用。</p>
<p><strong>使用场景</strong></p>
<ul>
<li>当子父类出现同名成员时，可以用super进行区分；</li>
<li>子类要调用父类构造函数时，可以使用super语句。</li>
</ul>
<p><strong>区别</strong></p>
<ol>
<li>成员变量<pre><code>this.变量    --    本类的
super.变量    --    父类的
</code></pre></li>
<li>构造方法<pre><code>this(...)    --    本类的
super(...)    --    父类的
</code></pre></li>
<li>成员方法<pre><code>this.方法名()    --    本类的    
super.方法名()    --    父类的
</code></pre></li>
</ol>
<p>super();和this();都是在构造函数的第一行，不能同时出现。</p>
<p>##方法的重写（覆盖）</p>
<p>子类中出现与父类一模一样的方法时（除了权限修饰符，权限修饰符大于等于不包括private，返回值类型，方法名和参数列表相同），会出现覆盖操作，也称为重写或者复写。</p>
<p>父类私有方法，子类看不到，因此父类私有方法的重写也就无从谈起。</p>
<p><strong>覆盖注意事项</strong>：</p>
<ul>
<li>覆盖时，子类方法权限一定要大于等于父类方法权限；</li>
<li>静态只能覆盖静态。</li>
</ul>
<p><strong>覆盖的使用场景</strong>：</p>
<p>当子类需要父类的功能，而功能主体子类有自己特有内容时，可以复写父类中的方法，这样，既沿袭了父类的功能，又定义了子类特有的内容。</p>
<p><strong>方法重写和重载有什么区别</strong>？</p>
<p>方法的重写用在子类方法与父类方法一模一样时，除权限修饰符，返回值类型，方法名和参数列表都是相同的。<br>重载用在同一个类中各方法方法名相同，参数列表不同（与返回值类型没有关系）的情况。</p>
<p><strong>子父类中构造方法的用法</strong>：</p>
<ol>
<li><p>子类的初始化过程中，首先回去执行父类的初始化动作。</p>
<p> 因为子类的构造方法中默认有一个super()。子类要使用父类的成员变量，这个初始化，必须在子类初始化之前完成。所以，子类的初始化过程中，会先执行父类的初始化。</p>
</li>
<li>如果父类没有无参构造方法</li>
</ol>
<ul>
<li>使用super调用父类的带参构造。推荐方式。</li>
<li>使用this调用本身的其他构造。</li>
</ul>
<p><strong>静态代码块、构造代码块，构造方法的执行顺序</strong>：</p>
<p>父类静态代码块→子类静态代码块→父类构造代码块→父类构造方法→子类构造代码块→子类构造方法</p>
<p>##final关键字</p>
<p>final是一个关键字，可以用于修饰类，成员变量，成员方法。</p>
<p><strong>特点</strong>：</p>
<ol>
<li>它修饰的类不能被继承。</li>
<li>它修饰的成员变量是一个常量。</li>
<li>它修饰的成员方法是不能被子类重写的。</li>
</ol>
<p>final修饰的常量定义一般都有书写规范,被final修饰的常量名称,所有字母都<strong>大写</strong>。</p>
<p>final修饰成员变量,必须初始化,初始化有两种</p>
<ul>
<li>显示初始化；</li>
<li>构造方法初始化。<br>但是不能两个一起初始化</li>
</ul>
<p><strong>final和private的区别</strong>：</p>
<ol>
<li><p>final修饰的类可以访问；<br> private不可以修饰外部类，但可以修饰内部类（其实把外部类私有化是没有意义的）。</p>
</li>
<li><p>final修饰的方法不可以被子类重写；<br> private修饰的方法表面上看是可以被子类重写的，其实不可以，子类是看不到父类的私有方法的。</p>
</li>
<li><p>final修饰的变量只能在显示初始化或者构造函数初始化的时候赋值一次，以后不允许更改；<br> private修饰的变量，也不允许直接被子类或一个包中的其它类访问或修改，但是他可以通过set和get方法对其改值和取值。</p>
</li>
</ol>
<p>##多态</p>
<p><strong>概念</strong>：</p>
<p>对象在不同时刻表现出来的不同状态。</p>
<p><strong>多态的前提</strong>：</p>
<ul>
<li>要有继承或者实现关系。</li>
<li>要有方法的重写。</li>
<li>要有父类引用指向子类对象。</li>
</ul>
<p><strong>程序中的体现</strong>：<br>父类或者接口的引用指向或者接收自己的<strong>子类对象</strong>。</p>
<p><strong>好处和作用</strong>：<br>多态的存在提高了程序的<strong>扩展性</strong>和后期<strong>可维护性</strong>。</p>
<p><strong>弊端</strong>:<br>父类调用的时候只能调用父类里的方法，不能调用子类的特有方法，因为你并不清楚将来会有什么样的子类继承你。</p>
<p><strong>多态的成员特点</strong>：</p>
<ul>
<li><p><em>成员变量</em>：</p>
<p>  编译时期：看引用型变量所属的类中是否有所调用的变量；<br>  运行时期：也是看引用型变量所属的类是否有调用的变量。<br>  成员变量无论编译还是运行都看引用型变量所属的类，简单记<strong>成员变量，编译和运行都看等号左边</strong>。</p>
</li>
<li><p><em>成员方法</em>：</p>
<p>  编译时期：要查看引用变量所属的类中是否有所调用的成员；<br>  运行时期：要查看对象所属的类中是否有所调用的成员。如果父子出现同名的方法,会运行子类中的方法,因为方法有覆盖的特性。<br>  <strong>编译看左边运行看右边</strong>。</p>
</li>
<li><p><em>静态方法</em>:</p>
<p>  编译时期：看的引用型变量所属的类中是否有所调用的变量；<br>  运行时期：也是看引用型变量所属的类是否有调用的变量。<br>  <strong>编译和运行都看等号左边</strong>。</p>
</li>
</ul>
<p><strong><em>一定不能够将父类的对象转换成子类类型！</em></strong></p>
<p>父类的引用指向子类对象，该引用可以被提升，也可以被<strong><em>强制转换</em></strong>。</p>
<p><strong><em>多态自始至终都是子类对象在变化！</em></strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//多态向下转型和向上转型的例子，多态转型解决了多态中父类引用不能使用子类特有成员的弊端。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PolymorphicTest2</span> &#123;</span></span><br><span class="line">    public static void main(<span class="type">String</span>[] args) &#123;</span><br><span class="line">        <span class="type">Phone</span> p1 = <span class="keyword">new</span> <span class="type">Nokia</span>();        <span class="comment">//向上转型，类型提升</span></span><br><span class="line">        <span class="type">Nokia</span> no = (<span class="type">Nokia</span>)p1;          <span class="comment">//向下转型，强制将父类的引用转换成子类类型，不能将Nokia类型转成Moto或Nexus类型</span></span><br><span class="line">        no.print();                      <span class="comment">//输出结果为Phone---null---0，因为继承了父类的方法</span></span><br><span class="line">        </span><br><span class="line">        <span class="type">Phone</span> p2 = <span class="keyword">new</span> <span class="type">Moto</span>();</span><br><span class="line">        <span class="type">Moto</span> m = (<span class="type">Moto</span>)p2;</span><br><span class="line">        m.print();                    <span class="comment">//输出结果为Moto---yellow---1599，方法重写，子类方法覆盖父类方法</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Phone</span> p3 = <span class="keyword">new</span> <span class="type">Nexus</span>();</span><br><span class="line">        <span class="type">Nexus</span> ne = (<span class="type">Nexus</span>)p3;</span><br><span class="line">        ne.print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Phone</span>&#123;</span>    </span><br><span class="line">    <span class="type">String</span> color;</span><br><span class="line">    int price;</span><br><span class="line">    </span><br><span class="line">    public void print()&#123;</span><br><span class="line">        <span class="type">System</span>.out.println(<span class="string">"Phone---"</span> + color + <span class="string">"---"</span> + price );</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Nokia</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Phone</span>&#123;</span></span><br><span class="line">    <span class="type">String</span> color = <span class="string">"red"</span>;</span><br><span class="line">    int price = <span class="number">1009</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//public void print()&#123;</span></span><br><span class="line">    <span class="comment">//    System.out.println("Nokia---" + color + "---" + price);</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Moto</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Phone</span>&#123;</span></span><br><span class="line">    <span class="type">String</span> color = <span class="string">"yellow"</span>;</span><br><span class="line">    int price = <span class="number">1599</span>;</span><br><span class="line"></span><br><span class="line">    public void print()&#123;</span><br><span class="line">        <span class="type">System</span>.out.println(<span class="string">"Moto---"</span> + color + <span class="string">"---"</span> + price);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Nexus</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Phone</span>&#123;</span></span><br><span class="line">    <span class="type">String</span> color = <span class="string">"black"</span>;</span><br><span class="line">    int price = <span class="number">1999</span>;</span><br><span class="line"></span><br><span class="line">    public void print()&#123;</span><br><span class="line">        <span class="type">System</span>.out.println(<span class="string">"Nexus---"</span> + color + <span class="string">"---"</span> + price);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>##抽象（abstract）</p>
<p>抽象就是从多个事物中将共性的，本质的内容抽象出来。</p>
<p><strong>抽象类</strong>：</p>
<p>Java中可以定义<em>没有方法体</em>的方法，该方法的具体实现由<em>子类</em>完成，该方法称为抽象方法，包含抽象方法的类就是抽象类。</p>
<p><strong>由来</strong>：</p>
<p>多个对象都具备相同的功能，但是功能具体内容有所不同，那么在抽取过程中，只抽取了功能定义，并未抽取功能主体，那么只有功能声明，没有功能主体的方法称为抽象方法。</p>
<p><strong>抽象类特点</strong>：</p>
<ol>
<li>抽象方法一定在抽象类中；</li>
<li>抽象方法和抽象类都必须被abstract关键字修饰；</li>
<li>抽象类不可以用new创建对象，因为调用抽象方法没意义；</li>
<li>抽象类中的抽象方法要被使用，必须由子类复写其所有的抽象方法后，建立子类对象调用； 如果子类只覆盖了部分的抽象方法，那么该子类还是一个抽象类；</li>
<li>抽象类中可以有抽象方法，也可以有非抽象方法，抽象方法用于子类实例化；</li>
<li>如果一个类是抽象类，那么，继承它的子类，要么是抽象类，要么重写所有抽象方法。<br>特殊：抽象类中可以不定义抽象方法，这样做仅仅是不让该类建立对象。</li>
</ol>
<p><strong>抽象类的成员特点</strong>：</p>
<ul>
<li>成员变量：可以是变量，也可以是常量；</li>
<li>构造方法：有构造方法；</li>
<li>成员方法：可以是抽象方法，也可以是非抽象方法。</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">葵花宝典</span> &#123;</span></span><br><span class="line">    public <span class="keyword">abstract</span> void 自宫();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">岳不群</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">葵花宝典</span> &#123;</span></span><br><span class="line">    public void 自宫()&#123;</span><br><span class="line">        <span class="type">System</span>.out.println(<span class="string">"剪刀"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">林平之</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">葵花宝典</span>&#123;</span></span><br><span class="line">    public void 自宫()&#123;</span><br><span class="line">        <span class="type">System</span>.out.println(<span class="string">"指甲刀"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AbstractTest</span>  &#123;</span></span><br><span class="line">    public static void main(<span class="type">String</span>[] args) &#123;</span><br><span class="line">        岳不群 岳 = <span class="keyword">new</span> 岳不群();</span><br><span class="line">        岳.自宫();</span><br><span class="line">        </span><br><span class="line">        林平之 林 = <span class="keyword">new</span> 林平之();</span><br><span class="line">        林.自宫();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>抽象类注意事项</strong>：</p>
<p><em>抽象类不能被实例化，为什么还有构造函数</em>？</p>
<p>只要是class定义的类里面就肯定有构造函数。抽象类中的函数是给子类实例化的。</p>
<p><em>一个类没有抽象方法，为什么定义为抽象类</em>?</p>
<p>不想被继承，还不想被实例化。</p>
<p><em>抽象关键字abstract不可以和哪些关键字共存</em>？</p>
<ul>
<li>final：如果方法被抽象，就需要被覆盖，而final是不可以被覆盖，所以冲突。</li>
<li>private：如果函数被私有了，子类无法直接访问，怎么覆盖呢？</li>
<li>static：不需要对象，类名就可以调用抽象方法。而调用抽象方法没有意义。 </li>
</ul>
<p><strong>接口（interface）</strong></p>
<p><em>接口</em>是<em>抽象方法</em>和<em>常量值</em>的集合。从本质上讲，接口是一种特殊的抽象类，这种抽象类只包含常量和方法的定义，而没有变量和方法的实现。</p>
<p>格式：<em>interface 接口名{}</em></p>
<p>接口的出现将”多继承“通过另一种形式体现出来，即”多实现“。</p>
<p><strong>实现（implements）</strong></p>
<p>格式：<em>class 类名 implements 接口名 {}</em></p>
<p><strong>特点</strong>：</p>
<ul>
<li>接口不能被实例化。</li>
<li>一个类如果实现了接口，要么是抽象类，要么实现接口中的所有方法。</li>
</ul>
<p><strong>接口的成员特点</strong>：</p>
<p><em>接口中的成员修饰符是固定的！</em></p>
<ul>
<li>成员常量：public static final，接口里定义的变量是全局常量，而且修饰符只能是这三个关键字，都可以省略，常量名要大写。</li>
<li>成员方法：public abstract，接口里定义的方法都是抽象的，两个修饰符关键字可省略。</li>
<li>推荐：永远手动给出修饰符。</li>
</ul>
<p><strong>继承与实现的区别</strong>：</p>
<ul>
<li>类与类之间称为继承关系：因为该类无论是抽象的还是非抽象的，它的内部都可以定义非抽象方法，这个方法可以直接被子类使用，子类继承即可。只能单继承，可以多层继承。（<strong>(class)</strong> ）</li>
<li>类与接口之间是实现关系：因为接口中的方法都是抽象的，必须由子类实现才可以实例化。可以单实现，也可以多实现；还可以在继承一个类的同时实现多个接口。（<strong>(class) extends (class) implements (interface1,interface2…)</strong>）</li>
<li>接口与接口之间是继承关系：一个接口可以继承另一个接口，并添加新的属性和抽象方法，并且接口可以多继承。（<strong>(interface) extends (interface1,interface2…)</strong>）</li>
</ul>
<p><strong>抽象类和接口的区别</strong>：</p>
<p><em>成员变量</em></p>
<ul>
<li>抽象类能有变量也可以有常量</li>
<li>接口只能有常量</li>
</ul>
<p><em>成员方法</em></p>
<ul>
<li>抽象类可以有非抽象的方法,也可以有抽象的方法</li>
<li>接口只能有抽象的方法</li>
</ul>
<p><em>构造方法</em></p>
<p>-抽象类有构造方法<br>-接口没有构造方法</p>
<p><em>类与抽象类和接口的关系</em></p>
<ul>
<li>类与抽象类的关系是继承 extends</li>
<li>类与接口的关系是实现 implements</li>
</ul>
<p><strong>接口的思想特点</strong>：</p>
<ol>
<li>接口是<em>对外暴露</em>的规则；</li>
<li>接口是程序的<em>功能扩展</em>；</li>
<li>接口的出现<em>降低耦合性</em>；(实现了模块化开发,定义好规则,每个人实现自己的模块,大大提高了开发效率)</li>
<li>接口可以用来<em>多实现</em>；</li>
<li><em>多个</em>无关的类可以实现同一个接口；</li>
<li>一个类可以实现<em>多个</em>相互直接没有关系的接口；</li>
<li>与继承关系类似，接口与实现类之间存在<em>多态性</em>。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//运动员和教练的案例（下图是思路分析）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span><br><span class="line">    篮球运动员和教练</span><br><span class="line">    乒乓球运动员和教练</span><br><span class="line">    现在篮球运动员和教练要出国访问,需要学习英语</span><br><span class="line">    请根据你所学的知识,分析出来哪些是类,哪些是抽象类,哪些是接口</span><br><span class="line">*/</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">SpeakEnglish</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">GoAboard</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">aboard</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name,<span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//吃饭</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">//睡觉</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Zzz..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//运动员</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Player</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">study</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//教练</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Coach</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">teach</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//篮球运动员</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BasketballPlayer</span> <span class="keyword">extends</span> <span class="title">Player</span> <span class="keyword">implements</span> <span class="title">SpeakEnglish</span>,<span class="title">GoAboard</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(getAge() + <span class="string">"岁的"</span> + getName() + <span class="string">"吃鸡腿"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">study</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(getAge() + <span class="string">"岁的"</span> + getName() + <span class="string">"学扣篮"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(getAge() + <span class="string">"岁的"</span> + getName() + <span class="string">" Say Hello World"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">aboard</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(getAge() + <span class="string">"岁的"</span> + getName() + <span class="string">" Go Aboard"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//乒乓运动员</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PingPangPlayer</span> <span class="keyword">extends</span> <span class="title">Player</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(getAge() + <span class="string">"岁的"</span> + getName() + <span class="string">"吃鸡蛋"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">study</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(getAge() + <span class="string">"岁的"</span> + getName() + <span class="string">"学扣球"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//篮球教练</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BasketballCoach</span> <span class="keyword">extends</span> <span class="title">Coach</span> <span class="keyword">implements</span> <span class="title">SpeakEnglish</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(getAge() + <span class="string">"岁的"</span> + getName() + <span class="string">"啃鸡爪"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">teach</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(getAge() + <span class="string">"岁的"</span> + getName() + <span class="string">"教扣篮"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(getAge() + <span class="string">"岁的"</span> + getName() + <span class="string">" Say Hello Java"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">aboard</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(getAge() + <span class="string">"岁的"</span> + getName() + <span class="string">" Go Aboard"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//乒乓球教练</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PingPangCoach</span> <span class="keyword">extends</span> <span class="title">Coach</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(getAge() + <span class="string">"岁的"</span> + getName() + <span class="string">"吃鸡蛋皮"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">teach</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(getAge() + <span class="string">"岁的"</span> + getName() + <span class="string">"教扣球"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PlayerAndCoach</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//篮球运动员</span></span><br><span class="line">        BasketballPlayer bp = <span class="keyword">new</span> BasketballPlayer();</span><br><span class="line">        bp.setName(<span class="string">"郭艾伦"</span>);</span><br><span class="line">        bp.setAge(<span class="number">33</span>);</span><br><span class="line">        bp.eat();</span><br><span class="line">        bp.sleep();</span><br><span class="line">        bp.study();</span><br><span class="line">        bp.speak();</span><br><span class="line">        bp.aboard();</span><br><span class="line">        System.out.println(<span class="string">"***********************"</span>);</span><br><span class="line">        <span class="comment">//篮球教练</span></span><br><span class="line">        BasketballCoach bc = <span class="keyword">new</span> BasketballCoach();</span><br><span class="line">        bc.setName(<span class="string">"波波维奇"</span>);</span><br><span class="line">        bc.setAge(<span class="number">65</span>);</span><br><span class="line">        bc.eat();</span><br><span class="line">        bc.sleep();</span><br><span class="line">        bc.teach();</span><br><span class="line">        bc.speak();</span><br><span class="line">        bc.aboard();</span><br><span class="line">        System.out.println(<span class="string">"***********************"</span>);</span><br><span class="line">        <span class="comment">/*</span><br><span class="line">            多态</span><br><span class="line">        */</span></span><br><span class="line">        Person p = <span class="keyword">new</span> BasketballPlayer();</span><br><span class="line">        p.setName(<span class="string">"Kobe Bryant"</span>);</span><br><span class="line">        p.setAge(<span class="number">33</span>);</span><br><span class="line">        p.eat();</span><br><span class="line">        p.sleep();</span><br><span class="line">        <span class="comment">//p.study();</span></span><br><span class="line">        <span class="comment">//p.speak();</span></span><br><span class="line">        </span><br><span class="line">        BasketballPlayer bp2 = (BasketballPlayer)p;</span><br><span class="line">        bp2.study();</span><br><span class="line">        bp2.speak();</span><br><span class="line">        bp2.aboard();</span><br><span class="line">        System.out.println(<span class="string">"***********************"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>##内部类</p>
<p>将一个类定义在另一个类里面，里面的那个类就称为内部类。内部类的出现，再次打破了Java单继承的局限性。</p>
<p><strong>访问特点</strong>：</p>
<ul>
<li>内部类可以直接访问外部类的成员，包括私有成员。</li>
<li>外部类要访问内部类的成员，必须要建立内部类的对象。<br><strong>内部类分类及共性</strong>：</li>
</ul>
<p><em>共性</em>：</p>
<ul>
<li>内部类仍然是一个独立的类，在编译之后会内部类会被编译成独立的.class文件，但是前面冠以外部类的类名和$符号。</li>
<li>内部类不能用普通的方式访问。内部类是外部类的一个成员，因此内部类可以自由地访问外部类的成员变量，无论是否是private的。</li>
</ul>
<p><em>成员内部类</em></p>
<p>在外部类中有成员变量和成员方法，成员内部类就是把整个一个类作为了外部类的成员；<br>成员内部类是定义在<strong><em>类中方法外</em></strong>的类；<br>创建对象的格式为：<strong><em>外部类名.内部类名 对象名 = 外部类对象.内部类对象</em></strong>；<br>成员内部类之所以可以直接访问外部类的成员，那是因为内部类中都持有一个外部类对象的引用：<strong><em>外部类名.this</em></strong>；<br>成员内部类可以用的修饰符有final，abstract，public，private，protected，static.</p>
<p><em>静态内部类</em></p>
<p>静态内部类就是成员内部类加上静态修饰符static，定义在<strong><em>类中方法外</em></strong>。</p>
<p>在外部类中访问静态内部类有两种场景：</p>
<ul>
<li>在外部类中访问静态内部类中非静态成员：<strong>*外部类名.内部类名 对象名 = 外部类名.内部对</strong>象*，需要通过创建对象访问；</li>
<li>在外部类中访问静态内部类中的静态成员：同样可以使用上面的格式进行访问，也可以直接使用<strong><em>外部类名.内部类名.成员</em></strong>。</li>
</ul>
<p>局部内部类</p>
<p>局部内部类是定义在方法中的类。</p>
<ul>
<li>方法内部类只能在定义该内部类的<strong><em>方法内</em></strong>实例化，不可以在此方法外对其实例化。</li>
<li>方法内部类对象不能使用该内部类所在方法的非final局部变量。</li>
</ul>
<p>可以用于方法内部类的修饰符有<em>final，abstract</em>；</p>
<p>静态方法中的方法内部类只能访问<strong><em>外部的静态成员</em></strong>。</p>
<p><em>匿名内部类</em></p>
<p>匿名内部类是内部类的简化写法，是建立一个带内容的外部类或者接口的子类匿名对象。<br>前提：<br>内部类可以继承或实现一个外部类或者接口。<br>格式：<br>new 外部类名或者接口名(){重写方法};<br>通常在方法的形式参数是接口或者抽象类，并且该接口中的方法不超过三个时，可以将匿名内部类作为参数传递。</p>
<p>##不同修饰符修饰的内容(和内部类无关)</p>
<table>
<thead>
<tr>
<th></th>
<th>类</th>
<th>成员变量</th>
<th>成员方法</th>
<th>构造方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>private</td>
<td></td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>默认</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>protected</td>
<td></td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>public</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>abstract</td>
<td>Y</td>
<td></td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>static</td>
<td></td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>final</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td></td>
</tr>
</tbody>
</table>
<p>注意，常见规则如下：</p>
<ul>
<li>以后，所有的类都用public修饰。并且，在一个java文件中，只写一个类。</li>
<li>以后，所有的成员变量用private修饰。</li>
<li>以后，所有的成员方法用public修饰。<br>  如果是抽象类或者接口：public abstract + …</li>
<li>以后，所有的构造方法用public修饰。<br>  如果类是工具类或者单例类：构造用private修饰</li>
</ul>
<p>##四种权限修饰符</p>
<table>
<thead>
<tr>
<th></th>
<th>本类</th>
<th>同包（无关类或子类）</th>
<th>不同包（子类）</th>
<th>不同包（无关类）</th>
</tr>
</thead>
<tbody>
<tr>
<td>private</td>
<td>Y</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>默认</td>
<td>Y</td>
<td>Y</td>
<td></td>
<td></td>
</tr>
<tr>
<td>protected</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>public</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
</tbody>
</table>
<p>推荐：</p>
<ul>
<li>成员变量    private</li>
<li>构造方法    public</li>
<li>成员方法    public</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2012/07/02/" itemprop="url">
                  Tomcat开机启动脚本
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2012-07-02T13:37:46+08:00" content="Jul 2 2012">
              Jul 2 2012
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2012/07/02/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2012/07/02/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在/etc/init.d下创建脚本文件tomcat，然后赋予其执行权限：chmod +x tomcat.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/bin/s</span></span><br><span class="line"><span class="comment"># Tomcat auto-star</span></span><br><span class="line"><span class="comment"># chkconfig:2345 90 1</span></span><br><span class="line"><span class="comment"># description: Auto-starts tomca</span></span><br><span class="line"><span class="comment"># processname: tomca</span></span><br><span class="line"><span class="built_in">export</span> CATALINA_HOME=/usr/<span class="built_in">local</span>/src/tomca</span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/java/jdk1.<span class="number">7.0</span>_0</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/lib/dt.jar:JAVA_HOME/lib/tool.ja</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span>     /*tomcat和jdk环境变量，根据实际情况修改*</span><br><span class="line"><span class="keyword">case</span> <span class="variable">$1</span> i</span><br><span class="line"> start</span><br><span class="line"> sh <span class="variable">$CATALINA_HOME</span>/bin/startup.s</span><br><span class="line"> ;</span><br><span class="line"> stop</span><br><span class="line"> sh <span class="variable">$CATALINA_HOME</span>/bin/shutdown.s</span><br><span class="line"> ;</span><br><span class="line"> restart</span><br><span class="line"> sh <span class="variable">$CATALINA_HOME</span>/bin/shutdown.s</span><br><span class="line"> sh <span class="variable">$CATALINA_HOME</span>/bin/startup.s</span><br><span class="line"> ;</span><br><span class="line"> esa</span><br><span class="line"> <span class="built_in">exit</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></p>
<p>使用命令service tomcat start/restart/stop来启动/重启/停止服务。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2012/06/20/" itemprop="url">
                  Java面向对象
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2012-06-20T16:53:33+08:00" content="Jun 20 2012">
              Jun 20 2012
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2012/06/20/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2012/06/20/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>##什么是面向对象？</p>
<p>面向对象是相对面向过程而言，与面向过程一样，都是一种思想。</p>
<p>面向过程以函数为基础，关注实现过程，强调功能行为；</p>
<p>面向对象以对象为基础，关注实现结果，将功能封装近对象，强调具备了功能的对象。</p>
<p>面向对象是基于面向过程的。</p>
<p>##类和对象的关系</p>
<p>java中描述事物通过类的形式体现，是一个抽象的概念。</p>
<p>对象即是该类事物实实在在存在的个体。</p>
<p>类是一组相同属性行为的对象的抽象。</p>
<p>举例：</p>
<p>类   ：手机</p>
<p>对象：Nokia，Moto，HTC</p>
<p>##类有哪些内容组成?</p>
<p>描述任意一类事物就是在描述他的属性和行为。</p>
<p>Java中的类class由<strong>成员变量</strong>和<strong>成员方法</strong>两部分组成，分别对应一类事物的属性和行为。<br>定义类其实也就是定义类中的成员（成员变量和成员方法）。</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个类</span></span><br><span class="line">class Phone&#123;</span><br><span class="line">    <span class="comment">//成员变量（属性）</span></span><br><span class="line">    <span class="keyword">String</span> <span class="built_in">color</span> = <span class="string">"white"</span>;</span><br><span class="line">    <span class="keyword">String</span> brand = <span class="string">"Nokia"</span>;</span><br><span class="line">    <span class="built_in">int</span> price = <span class="number">998</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//成员方法（）</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> createPhone()&#123;</span><br><span class="line">        System.out.<span class="built_in">println</span>(<span class="built_in">color</span> + brand + price);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>##变量使用原则</p>
<p><strong>就近原则</strong>。</p>
<p>##如何创建对象?</p>
<p>java中通过<strong>new</strong>关键字来创建实体。实体其实就是用来封装具体数据用的，如数组。对象也是同样道理，使用new关键字来创建对象。</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建一个对象</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Phone</span>&#123;</span><br><span class="line">    String color = <span class="string">"white"</span>;</span><br><span class="line">    String brand = <span class="string">"Nokia"</span>;</span><br><span class="line">    <span class="keyword">int</span> price = <span class="number">998</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createPhone</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        System.<span class="keyword">out</span>.println(color + brand + price);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">PhoneDemo</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String args</span>)</span>&#123;</span><br><span class="line">        Phone p = <span class="keyword">new</span> Phone();<span class="comment">//创建对象</span></span><br><span class="line">        p.color = <span class="string">"black"</span>;<span class="comment">//修改对象的属性</span></span><br><span class="line">        p.createPhone();<span class="comment">//使用对象的功能，即调用类中的方法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>##成员变量与局部变量有什么区别？</p>
<p><strong>作用范围</strong></p>
<p>成员变量：定义在类中,可以被类中的任意方法访问。</p>
<p>局部变量：只在它所属的局部大括号中有效。 </p>
<p><strong>存储情况</strong></p>
<p>成员变量(非静态)：存储在<em>堆内存</em>中，随着<em>对象</em>的存在而存在。当对象变成垃圾被回收时，该该对象中的成员变量会消失。</p>
<p>成员变量(静态):存储在<em>方法区</em>中,随着<em>类</em>的加载而加载,随着类的消失而消失。</p>
<p>局部变量：存储在<em>栈内存</em>中，当方法被调用，或者语句被执行的时候，才存在。</p>
<p>当方法运行完毕，或者语句运行完毕时，局部会被自动释放。所以成员变量也称之为实例(对象)变量。</p>
<p><strong>初始化情况</strong></p>
<p>成员变量：在堆内存中有默认初始化值。</p>
<p>局部变量：必须手动初始化后，才可以被使用。</p>
<p>##匿名对象</p>
<p>匿名对象是对象的简化形式，是没有名字的对象。</p>
<p>匿名对象的使用注意事项：</p>
<p>当对对象方法仅进行一次调用的时候使用；</p>
<p>匿名对象可以作为实际参数进行传递。</p>
<p>##封装(Encapsulation)</p>
<p>隐藏对象的属性和实现细节，仅对外提供公共访问方式。</p>
<p><strong>封装的好处</strong>：</p>
<ul>
<li>将变化隔离。</li>
<li>便于使用。</li>
<li>提高重用性。</li>
<li>提高安全性。</li>
</ul>
<p><strong>原则</strong>：</p>
<p>将不需要对外提供的内容都隐藏起来。<br>把属性都隐藏，提供公共方法对其访问。</p>
<p>##private(私有)关键字</p>
<p><strong>概念</strong>：</p>
<ol>
<li>权限修饰符。</li>
<li>用于修饰成员(成员变量和成员方法)</li>
<li>被私有化的成员只在本类中有效。</li>
<li>当成员私有后，提高了安全性。但是访问权限降低了。这时可以通过对外提供公有方法的形式对其进行访问。</li>
</ol>
<p><strong>好处</strong>:</p>
<p>可以在方法中对成员变量的访问进行控制。</p>
<p><strong>常用场景</strong>：</p>
<p>将成员变量私有化，对外提供对应的set ，get方法对其进行访问。提高对数据访问的安全性。</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;&#125;</span><br><span class="line"><span class="keyword">int</span> getAge()</span><br></pre></td></tr></table></figure>
<p>##构造方法</p>
<p><strong>构造方法的特点</strong>：</p>
<p>构造方法的方法名必须与类名相同。</p>
<p>构造方法没有返回类型，也不能定义为void，在方法名前面不声明方法类型。</p>
<p>构造方法不能由编程人员调用，而要系统调用。</p>
<p>一个类可以定义多个构造方法，也就是构造方法可以重载，以参数的个数，类型，或排列顺序区分。</p>
<p><strong>构造方法细节</strong>：</p>
<p>如果在定义类时没有定义构造方法，则编译系统会自动插入一个无参数的默认构造器，这个构造器不执行任何代码。</p>
<p><strong>作用</strong>：</p>
<p>构造方法的主要作用是完成对象的初始化工作，它能够把定义对象时的参数传给对象的域。</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//无参构造方法调用有参构造方法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Test</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String args</span>)</span>&#123;</span><br><span class="line">        Phone p = <span class="keyword">new</span> Phone();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Phone</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String brand;</span><br><span class="line">    Phone()&#123;<span class="comment">//无参构造方法</span></span><br><span class="line">        <span class="keyword">this</span>(<span class="string">""</span>);  <span class="comment">//必须放在第一行，而且不能直接用this(brand)</span></span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">"这是个无参构造方法。"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Phone(String brand)&#123;<span class="comment">//有参构造方法</span></span><br><span class="line">        <span class="keyword">this</span>.brand = brand;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>构造方法和一般方法的区别</strong>：</p>
<p>从<strong><em>功能</em></strong>上的区别：</p>
<ul>
<li>构造方法是给对象初始化的</li>
<li>一般方法是因为对象需要满足某种功能定义的</li>
</ul>
<p>从<strong><em>执行</em></strong>上的区别：</p>
<ul>
<li>构造方法，是对象创建的时候被执行，不用调用。</li>
<li>一般方法是什么时候调用，就什么时候执行，不调用就永远不执行。</li>
</ul>
<p>从<strong><em>书写</em></strong>上的区别：</p>
<ul>
<li>构造方法,是不需要有返回值，包括void，但是可以有return关键字来结束。</li>
<li>一般方法是必须具备返回值</li>
</ul>
<p><strong>构造代码块</strong>：</p>
<p>构造代码块又叫初始化块，在<em>创建对象时执行</em>，构造代码块是对构造方法的补充，<em>不接收任何参数</em>，定义一些所有对象<strong><em>共有</em></strong>的属性和方法时就可以用构造代码块。</p>
<p><strong><em>特点</em></strong>：</p>
<ol>
<li>构造代码块在类中方法外；</li>
<li>构造代码块没有名字，只能在创建对象的时候被自动调用；</li>
<li>如果有多个构造代码块，那么创建对象时就按照构造代码块的源码顺序，依次执行，构造代码块全部执行完成后，再执行构造方法。</li>
</ol>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//构造代码块</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">"我是构造方法"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span>(<span class="params"><span class="keyword">int</span> a</span>)</span>&#123;        </span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">"这是构造方法1"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> a = <span class="number">1</span>;a &lt;= <span class="number">10</span>;a++)&#123;</span><br><span class="line">                    System.<span class="keyword">out</span>.println(<span class="string">"Hello Java!"</span>);</span><br><span class="line">                &#125;<span class="comment">//定义对象共有的属性和方法，提高代码的复用性和整个应用的可维护性。</span></span><br><span class="line">                 System.<span class="keyword">out</span>.println(<span class="string">"这是构造代码块2"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">｝</span><br></pre></td></tr></table></figure>
<p>##对象初始化过程</p>
<p><strong><em>加载main方法所在的类和对象类进方法区→执行静态代码块→主方法进栈→在栈内存中开辟一个变量空间→在堆内存中开辟内存空间new一个对象→给对象一个内存地址值→对成员变量进行默认初始化→对成员变量进程显式初始化→构造代码块对成员变量初始化→构造方法对变量初始化→把地址值赋给栈内存中的变量空间</em></strong></p>
<p>##代码执行顺序</p>
<p><strong><em>静态代码块→构造代码块→构造方法</em></strong><br><strong>静态成员随类的加载而加载，类只加载一次，因此静态代码块也只执行一次。</strong></p>
<p>##this关键字</p>
<p>this是一个关键字。代表当前对象的引用。</p>
<p><strong><em>哪个对象调用this所在的方法，this就代表哪个对象。</em></strong></p>
<p><strong>使用场景</strong>：</p>
<p>当局部变量和成员变量一样的时候，使用this关键字可以解决局部变量隐藏成员变量问题；</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">class Phone&#123;</span><br><span class="line">    <span class="keyword">String</span> <span class="built_in">color</span>;</span><br><span class="line">    <span class="keyword">String</span> brand;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> show(<span class="keyword">String</span> <span class="built_in">color</span>,<span class="keyword">String</span> brand)&#123;</span><br><span class="line">        <span class="keyword">this</span>.<span class="built_in">color</span> = <span class="built_in">color</span>;</span><br><span class="line">        <span class="keyword">this</span>.brand = brand;<span class="comment">//this.成员变量名</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在成员方法中调用其他成员方法，如果不加，默认也有this；</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Phone&#123;</span><br><span class="line">    <span class="keyword">String</span> <span class="built_in">color</span>;</span><br><span class="line">    <span class="keyword">String</span> brand;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> setColor(<span class="keyword">String</span> <span class="built_in">color</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>.<span class="built_in">color</span> = <span class="built_in">color</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">String</span> getColor()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">color</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> show()&#123;</span><br><span class="line">        System.out.<span class="built_in">println</span>(<span class="keyword">this</span>.getColor());<span class="comment">//在成员方法中调用其他成员方法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在构造方法中调用其他的构造方法，用法是“<strong>this(参数列表)</strong>”，只能用在类的构造方法中，而且只能放在<strong><em>构造方法的第一行</em></strong>。</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Phone&#123;</span><br><span class="line">    <span class="keyword">String</span> <span class="built_in">color</span>;</span><br><span class="line">    <span class="keyword">String</span> brand;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Phone()&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Phone(<span class="keyword">String</span> <span class="built_in">color</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>.<span class="built_in">color</span> = <span class="built_in">color</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Phone(<span class="keyword">String</span> <span class="built_in">color</span>,<span class="keyword">String</span> brand)&#123;</span><br><span class="line">        <span class="keyword">this</span>(<span class="string">"yellow"</span>); <span class="comment">//调用Phone(String color)这个构造方法，放在第一行</span></span><br><span class="line">        <span class="keyword">this</span>.brand = brand;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>##Static关键字</p>
<p>static是一个修饰符，用于修饰成员（成员变量和成员方法）。</p>
<p>当成员被静态修饰后，就多了一种被调用方式，不仅可以被对象调用，也可以被类名调用，格式是：类名.静态成员。</p>
<p><strong><em>static特点</em></strong>：</p>
<ol>
<li><strong>随着类的加载而加载</strong>。也就是说：静态会随着类的消失而消失，说明它生命周期最长。</li>
<li><strong>优先于对象存在</strong>。因为静态随类的加载而加载，因此一定是静态先存在，对象后存在。</li>
<li>被所有对象<strong>共享</strong>。对对象的共享数据在方法区提供单独的存储空间，节省内存。</li>
<li>可以被<strong>类名</strong>所调用。无需在堆中创建对象即可被调用。</li>
</ol>
<p>非静态的成员变量又叫<strong>实例变量</strong>，静态变量又叫<strong>类变量</strong>。</p>
<p><strong><em>非静态的成员变量（实例变量）与静态变量（类变量）的区别</em></strong>：</p>
<p>在<strong>内存</strong>中的位置：</p>
<ul>
<li>(类变量)静态变量随着类的加载而存在于<em>方法区</em>中；</li>
<li>实例变量随着对象的建立而存在于<em>堆内存</em>中。</li>
</ul>
<p><strong>生命周期</strong>：</p>
<ul>
<li>静态变量的<em>生命周期最长</em>，随着<strong>类</strong>的消失而消失；</li>
<li>实例变量的生命周期随着<strong>对象</strong>的消失而消失。</li>
</ul>
<p><strong>所属</strong>：</p>
<p>静态变量也称之为类变量，所属于整个<strong>类</strong>，被整个类的对象所共享；<br>实例变量是对象的特有数据，所属于<strong>对象</strong>。</p>
<p><strong><em>静态使用注意事项</em></strong>：</p>
<p>静态方法访问有局限性，<strong>只能访问静态成员</strong>，不能访问非静态成员。</p>
<ul>
<li>非静态方法既可以访问静态也可以访问非静态；</li>
<li>非静态方法中不可以定义静态变量，因为静态随类加载而加载，优于对象存在的。</li>
</ul>
<p>静态方法中不可以定义<strong><em>this</em></strong>，<strong><em>super</em></strong>关键字。</p>
<ul>
<li>因为静态优先于对象存在。所以静态方法中不可以出现this。</li>
</ul>
<p><strong><em>主函数是静态的</em></strong>。</p>
<figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//主函数举例</span><br><span class="line">class <span class="type">StaticMain</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> x = <span class="number">4</span>;</span><br><span class="line">    public <span class="keyword">static</span> <span class="type">void</span> main(<span class="type">String</span>[] args) &#123;</span><br><span class="line">        <span class="keyword">method</span>();//主函数是静态的，要调用<span class="keyword">method</span>方法，则<span class="keyword">method</span>方法也必须是静态的。</span><br><span class="line">    &#125;</span><br><span class="line">    public <span class="keyword">static</span> <span class="type">void</span> <span class="keyword">method</span>()&#123;</span><br><span class="line">        <span class="type">System</span>.<span class="keyword">out</span>.println(x);//<span class="keyword">method</span>方法是静态的，因此使用的变量x也必须是静态的。</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><em>静态代码块</em></strong>：</p>
<p>随着类的加载而执行，只执行一次并优先于主函数。 用于给类进行初始化。</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">    执行顺序：静态代码块→构造代码块→构造方法</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span><br><span class="line">    &#123;</span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">"这是构造代码块"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">"这是构造方法"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">"这是静态代码块"</span>);</span><br><span class="line">    &#125;    </span><br><span class="line">     </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title">StaticDemo4</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Person();</span><br><span class="line">        <span class="keyword">new</span> Person();<span class="comment">//多次调用对象，只执行一次静态代码块。</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><em>局部代码块&amp;构造代码块&amp;静态代码块</em></strong></p>
<p><strong>局部代码块</strong>：</p>
<ul>
<li>作用：控制变量的生命周期；</li>
<li>在程序中，当我们已经使用完x后，并且在接下来的代码中，不会再用到x,那么就没必要让x在内存中占用空间了，这用情况下，可以使用局部代码块，将x及其所设计到的区域封装为局部代码块，他们在程序执行中顺序不变，只是在执行完成后消失。</li>
</ul>
<p><strong>构造代码块</strong>：</p>
<ul>
<li>作用：存在于类中，它可以给所有对象进行初始化；</li>
<li>当类中的构造方法以重载的形式存在时，并且有共同成员变量或共同的方法时，可以通过构造代码块对其进行初始化；这样可以减少代码的重复。</li>
</ul>
<p><strong>静态代码块</strong>：</p>
<ul>
<li>作用：加载驱动器；</li>
<li>当类中的方法都被静态了化，并且构造方法被private了，这时我们不能再将这个类实例化，然而又想让类增加一些属性，就可以使用静态代码块。</li>
</ul>
<p>##给成员变量赋值的方式有几种?分别怎么实现?</p>
<ol>
<li>在类中显式初始化时给成员变量赋值；</li>
<li>非静态的成员方法调用成员变量时给成员变量赋值；</li>
<li>构造方法里调用成员变量赋值；</li>
<li>创建对象时调用构造方法时给成员变量赋值；</li>
<li>类调用静态成员变量时可以给静态成员变量赋值。</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2012/05/22/" itemprop="url">
                  tomcat日志设置规范
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2012-05-22T11:03:52+08:00" content="May 22 2012">
              May 22 2012
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Server/" itemprop="url" rel="index">
                    <span itemprop="name">Server</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2012/05/22/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2012/05/22/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>涉及两部分：<strong>关闭控制台日志</strong>和<strong>规范程序日志大小和个数</strong>。</p>
<p><strong>1.tomcat程序日志</strong></p>
<p>在%TOMCAT_HOME%/conf/logging.properties中设置catalina.org.apache.juli.FileHandler.level = OFF，关闭catalina的输出。</p>
<p>如需保留catalina输出，可参考文档管理系统经验总结添加自动删除脚本。</p>
<p><strong>2.程序日志</strong></p>
<p>编辑log4j.properties文件。一般可见log4j.rootCategory=info,stdout,file，stdout输出到控制台，file输出到文件。</p>
<p>1)关闭控制台日志输出</p>
<p>将log4j.appender.stdout=org.apache.log4j.ConsoleAppender注释掉，禁止程序向catalina.out输出控制台信息。</p>
<p>2)规范程序日志输出</p>
<p>log4j.appender.file.MaxFileSize=10MB //单个日志大小</p>
<p>log4j.appender.file.MaxBackupIndex=10 //循环日志个数</p>
<p>在限定日志大小和数量情况下，可根据项目实际情况设定日志跟踪级别。</p>
<p><strong>1.堆大小</strong></p>
<p>普通工控机：-Xmx1g -Xms1g</p>
<p>高配服务器：-Xmx2g -Xms2g</p>
<p>初始堆值和最大堆值设置同样大小，一般不超过总内存的1/2，32bit系统下由于寻址问题一般不能超过3GB，系统中有其他重要程序（如数据库）占用内存时，要调小该值。</p>
<p>常见由堆大小引发的内存溢出：java.lang.OutOfMemory</p>
<p><strong>2.年轻代大小</strong></p>
<p>普通工控机：-Xmn512m</p>
<p>高配服务器：-Xmn1g</p>
<p>一般为堆大小的3/8-1/2</p>
<p>常见由年轻代大小引发的内存溢出：java.lang.OutOfMemoryError: Java heap space Heap size</p>
<p><strong>3.持久代大小</strong></p>
<p>普通工控机：-XX:PermSize=256m -XX:MaxPermSize=256m</p>
<p>高配服务器：-XX:PermSize=256m -XX:MaxPermSize=256m</p>
<p>初始持久代值和最大值设置同样大小，一般值不用调整，若同一tomcat下有多个服务时，可以略微增加。</p>
<p>常见由持久代大小引发的内存溢出：java.lang.OutOfMemoryError: PermGen space</p>
<p>编辑tomcat/bin/catalina.sh文件，在文件开头非备注行添加参数:</p>
<p>JAVA_OPTS=’参数一 参数二……’</p>
<p>例：</p>
<p>普通工控机：</p>
<p>JAVA_OPTS=’-Xms1g -Xmx1g -Xmn512m -XX:PermSize=256m -XX:MaxPermSize=256m’</p>
<p>高配服务器：</p>
<p>JAVA_OPTS=’-Xms2g -Xmx2g -Xmn1g -XX:PermSize=256m -XX:MaxPermSize=256m’ </p>
<p>在不同系统和不同JDK下允许值不一样，事先需进行参数测试，如普通工控机：</p>
<p>java -Xms1g -Xmx1g -Xmn512m -XX:PermSize=256m -XX:MaxPermSize=256m -version</p>
<p>输入此命令可以正常返回版本号后，再进行修改。</p>
<p>修改完成后，重启tomcat，可以观察到ps aux结果中，tomcat的RSS值（实际驻留内存）大幅上升。</p>
<p><strong>注意：</strong></p>
<p><strong>JDK 1.5及以前版本对内存默认串行回收，所以没有特殊情况JDK均要求升级至1.6及以上版本。</strong></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/8/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/10/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://easydone.qiniudn.com/default_avatar.jpg"
               alt="Ailurus" />
          <p class="site-author-name" itemprop="name">Ailurus</p>
          <p class="site-description motion-element" itemprop="description">Android Developer</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">127</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">189</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://plus.google.com/u/0/105488752510871319253" target="_blank" title="G+">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  G+
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://github.com/liangzhitao" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/liangzhitao" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://facebook.com/liangzhitao" target="_blank" title="Facebook">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Facebook
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/208087666" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://nicodelee.sinaapp.com" title="日志" target="_blank">日志</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://iamwent.github.io" title="大城小黄" target="_blank">大城小黄</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://xiequan.info" title="谢权" target="_blank">谢权</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://veaer.com" title="veaer" target="_blank">veaer</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://kymjs.com" title="kymjs@张涛" target="_blank">kymjs@张涛</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://wuxiaolong.me" title="吴小龙同學" target="_blank">吴小龙同學</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://yifeiyuan.me" title="程序亦非猿" target="_blank">程序亦非猿</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://lovinghuan.com" title="大B哥" target="_blank">大B哥</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://abner-nimengbo.cn" title="阿布" target="_blank">阿布</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://itangqi.me" title="汤奇" target="_blank">汤奇</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2012 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ailurus</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'easydonecn';
      var disqus_identifier = 'page/9/index.html';
      var disqus_title = '';
      var disqus_url = '';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
    </script>
  



  
  
  

  

  

</body>
</html>
