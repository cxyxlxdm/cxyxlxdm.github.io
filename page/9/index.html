<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="Just Be Unreserved!" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="Android Developer">
<meta property="og:type" content="website">
<meta property="og:title" content="Just Be Unreserved!">
<meta property="og:url" content="http://www.easydone.cn/page/9/index.html">
<meta property="og:site_name" content="Just Be Unreserved!">
<meta property="og:description" content="Android Developer">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Just Be Unreserved!">
<meta name="twitter:description" content="Android Developer">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"hide"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> Just Be Unreserved! </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Just Be Unreserved!</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">学无止境。</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/12/10/" itemprop="url">
                  nagios配置内存检测Shell脚本
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-12-10T09:40:43+08:00" content="Dec 10 2013">
              Dec 10 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/12/10/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/12/10/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>nagios最强大的一点就是各种所需的监控可以自己定制开发，作为开源软件，其赋予使用者的自主权限非常大，使用者可以非常自由地开发自己所需的功能。nagios附带的没有内存监控脚本，下面就是一个内存监控本。将以下脚本命名为check_mem.sh，拷入$NAGIOS/libexec目录下，然后赋予其执行权限，至于nagios监控配置可参照其他各项监控配置。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="shebang">#!/bin/bash</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">"<span class="variable">$1</span>"</span> = <span class="string">"-w"</span> ] &amp;amp;&amp;amp; [ <span class="string">"<span class="variable">$2</span>"</span> <span class="operator">-gt</span> <span class="string">"0"</span> ] &amp;amp;&amp;amp; [ <span class="string">"<span class="variable">$3</span>"</span> = <span class="string">"-c"</span> ] &amp;amp;&amp;amp; [ <span class="string">"<span class="variable">$4</span>"</span> <span class="operator">-gt</span> <span class="string">"0"</span> ]; <span class="keyword">then</span></span><br><span class="line">        memTotal_b=`free -b |grep Mem |awk <span class="string">'&#123;print $2&#125;'</span>`</span><br><span class="line">        memFree_b=`free -b |grep Mem |awk <span class="string">'&#123;print $4&#125;'</span>`</span><br><span class="line">        memBuffer_b=`free -b |grep Mem |awk <span class="string">'&#123;print $6&#125;'</span>`</span><br><span class="line">        memCache_b=`free -b |grep Mem |awk <span class="string">'&#123;print $7&#125;'</span>`</span><br><span class="line">        memTotal_m=`free -m |grep Mem |awk <span class="string">'&#123;print $2&#125;'</span>`</span><br><span class="line">        memFree_m=`free -m |grep Mem |awk <span class="string">'&#123;print $4&#125;'</span>`</span><br><span class="line">        memBuffer_m=`free -m |grep Mem |awk <span class="string">'&#123;print $6&#125;'</span>`</span><br><span class="line">        memCache_m=`free -m |grep Mem |awk <span class="string">'&#123;print $7&#125;'</span>`</span><br><span class="line">        memUsed_b=$((<span class="variable">$memTotal_b</span>-<span class="variable">$memFree_b</span>-<span class="variable">$memBuffer_b</span>-<span class="variable">$memCache_b</span>))</span><br><span class="line">        memUsed_m=$((<span class="variable">$memTotal_m</span>-<span class="variable">$memFree_m</span>-<span class="variable">$memBuffer_m</span>-<span class="variable">$memCache_m</span>))</span><br><span class="line">        memUsedPrc=$(((<span class="variable">$memUsed_b</span>*<span class="number">100</span>)/<span class="variable">$memTotal_b</span>))</span><br><span class="line">        <span class="keyword">if</span> [ <span class="string">"<span class="variable">$memUsedPrc</span>"</span> -ge <span class="string">"<span class="variable">$4</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">"Memory: CRITICAL Total: <span class="variable">$memTotal_m</span> MB - Used: <span class="variable">$memUsed_m</span> MB - <span class="variable">$memUsedPrc</span>% used!|TOTAL=<span class="variable">$memTotal_b</span>;;;; USED=<span class="variable">$memUsed_b</span>;;;; CACHE=<span class="variable">$memCache_b</span>;;;; BUFFER=<span class="variable">$memBuffer_b</span>;;;;"</span></span><br><span class="line">                $(<span class="built_in">exit</span> <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">elif</span> [ <span class="string">"<span class="variable">$memUsedPrc</span>"</span> -ge <span class="string">"<span class="variable">$2</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">"Memory: WARNING Total: <span class="variable">$memTotal_m</span> MB - Used: <span class="variable">$memUsed_m</span> MB - <span class="variable">$memUsedPrc</span>% used!|TOTAL=<span class="variable">$memTotal_b</span>;;;; USED=<span class="variable">$memUsed_b</span>;;;; CACHE=<span class="variable">$memCache_b</span>;;;; BUFFER=<span class="variable">$memBuffer_b</span>;;;;"</span></span><br><span class="line">                $(<span class="built_in">exit</span> <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">"Memory: OK Total: <span class="variable">$memTotal_m</span> MB - Used: <span class="variable">$memUsed_m</span> MB - <span class="variable">$memUsedPrc</span>% used|TOTAL=<span class="variable">$memTotal_b</span>;;;; USED=<span class="variable">$memUsed_b</span>;;;; CACHE=<span class="variable">$memCache_b</span>;;;; BUFFER=<span class="variable">$memBuffer_b</span>;;;;"</span></span><br><span class="line">                $(<span class="built_in">exit</span> <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"check_mem v1.1"</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"Usage:"</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"check_mem -w &amp;lt;warnlevel&amp;gt; -c &amp;lt;critlevel&amp;gt;"</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"warnlevel and critlevel is percentage value without %"</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">more</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/12/09/" itemprop="url">
                  linux安全加固项（部分）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-12-09T14:15:39+08:00" content="Dec 9 2013">
              Dec 9 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/12/09/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/12/09/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Linux安全加固最基本的原则就是不需要的软件绝对不要装，不需要的服务也绝对不要启用，未知的用户绝对不能存在。操作系统最好是最小化安装，针对需要的服务进行定制操作系统，对于root用户的权限控制一定要严格。最好操作系统定制然后刻盘保存。</p>
<p>禁止root ssh<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">vim</span> /etc/ssh/sshd_conf</span><br><span class="line">PermitRootLogin <span class="built_in">no</span></span><br></pre></td></tr></table></figure></p>
<p>禁止空密码登陆<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">vim</span> /etc/ssh/sshd_conf</span><br><span class="line">PermitEmptyPasswords <span class="built_in">no</span></span><br></pre></td></tr></table></figure></p>
<p>禁止ftp（可以sftp）<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/shadow</span><br><span class="line">ftp:*:<span class="number">15513</span>:<span class="number">0</span>:<span class="number">99999</span>:<span class="number">7</span>:::</span><br></pre></td></tr></table></figure></p>
<p>防IP欺骗<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">vim</span> /etc/host.<span class="keyword">conf</span></span><br><span class="line">nospoof <span class="keyword">on</span></span><br></pre></td></tr></table></figure></p>
<p>禁用nobody用户<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/shadow</span><br><span class="line">nobody:*:<span class="number">15513</span>:<span class="number">0</span>:<span class="number">99999</span>:<span class="number">7</span>:::</span><br></pre></td></tr></table></figure></p>
<p>禁止全局产生core<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line">ulimit -S -c <span class="number">0</span> &amp;gt; /dev/null <span class="number">2</span>&amp;gt;&amp;amp;<span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<p>允许某个用户产生core<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.bash_profile</span><br><span class="line"><span class="built_in">ulimit</span> -c unlimited</span><br><span class="line"><span class="built_in">ulimit</span> -c <span class="number">5120</span></span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/12/08/" itemprop="url">
                  sysctl -p 报错解决办法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-12-08T11:53:05+08:00" content="Dec 8 2013">
              Dec 8 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/12/08/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/12/08/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>Problem Description</strong></p>
<p>Modify linux kernel file</p>
<p>vi/etc/sysctl.conf,then input “sysctl-P”,appear error as the following<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">error</span><span class="pseudo">:"net</span><span class="class">.bridge</span><span class="class">.bridge-nf-call-ip6tables</span>"<span class="tag">isanunknownkey</span></span><br><span class="line"></span><br><span class="line"><span class="tag">error</span><span class="pseudo">:"net</span><span class="class">.bridge</span><span class="class">.bridge-nf-call-iptables</span>"<span class="tag">isanunknownkey</span></span><br><span class="line"></span><br><span class="line"><span class="tag">error</span><span class="pseudo">:"net</span><span class="class">.bridge</span><span class="class">.bridge-nf-call-arptables</span>"<span class="tag">isanunknownkey</span></span><br></pre></td></tr></table></figure></p>
<p>Solution：<br><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">modprobebridge</span><br><span class="line"></span><br><span class="line">lsmod<span class="string">|grepbridge</span></span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/12/07/" itemprop="url">
                  Linux设置core文件介绍
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-12-07T14:21:08+08:00" content="Dec 7 2013">
              Dec 7 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/12/07/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/12/07/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>①ulimit -a查看操作系统limit信息，显示结果如下：<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">core file size          <span class="list">(<span class="keyword">blocks</span>, -c)</span> <span class="number">5120</span></span><br><span class="line"></span><br><span class="line">data seg size           <span class="list">(<span class="keyword">kbytes</span>, -d)</span> unlimited</span><br><span class="line"></span><br><span class="line">scheduling priority             <span class="list">(<span class="keyword">-e</span>)</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">file size               <span class="list">(<span class="keyword">blocks</span>, -f)</span> unlimited</span><br><span class="line"></span><br><span class="line">pending signals                 <span class="list">(<span class="keyword">-i</span>)</span> <span class="number">240561</span></span><br><span class="line"></span><br><span class="line">max locked memory       <span class="list">(<span class="keyword">kbytes</span>, -l)</span> <span class="number">64</span></span><br><span class="line"></span><br><span class="line">max memory size         <span class="list">(<span class="keyword">kbytes</span>, -m)</span> unlimited</span><br><span class="line"></span><br><span class="line">open files                      <span class="list">(<span class="keyword">-n</span>)</span> <span class="number">1024</span></span><br><span class="line"></span><br><span class="line">pipe size            <span class="list">(<span class="number">512</span> bytes, -p)</span> <span class="number">8</span></span><br><span class="line"></span><br><span class="line">POSIX message queues     <span class="list">(<span class="keyword">bytes</span>, -q)</span> <span class="number">819200</span></span><br><span class="line"></span><br><span class="line">real-time priority              <span class="list">(<span class="keyword">-r</span>)</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">stack size              <span class="list">(<span class="keyword">kbytes</span>, -s)</span> <span class="number">10240</span></span><br><span class="line"></span><br><span class="line">cpu time               <span class="list">(<span class="keyword">seconds</span>, -t)</span> unlimited</span><br><span class="line"></span><br><span class="line">max user processes              <span class="list">(<span class="keyword">-u</span>)</span> <span class="number">1024</span></span><br><span class="line"></span><br><span class="line">virtual memory          <span class="list">(<span class="keyword">kbytes</span>, -v)</span> unlimited</span><br><span class="line"></span><br><span class="line">file locks                      <span class="list">(<span class="keyword">-x</span>)</span> unlimited</span><br></pre></td></tr></table></figure></p>
<p>其中第一行显示的就是core文件的配置信息。</p>
<p>当系统中的一些程序在遇到一些错误以及crash时，系统会自动产生core文件记录crash时刻系统信息，包括内存和寄存器信息，用以程序员日后debug时可以使用。这些错误包括段错误、非法指令、总线错误或用户自己生成的退出信息等等。 </p>
<p>②设置core文件主要有如下几种方法：<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">vim</span> /etc/<span class="keyword">profile</span></span><br></pre></td></tr></table></figure></p>
<p>添加以下内容：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># No core files by default</span></span><br><span class="line">ulimit -S -c <span class="number">0</span> &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line">vim /etc/security/limits.conf</span><br></pre></td></tr></table></figure></p>
<p>注释掉以下内容<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">*               </span>soft    core            0</span><br></pre></td></tr></table></figure></p>
<p>以上两种方法都是设置禁止系统所有用户产生core文件。<br>生产环境中，需要对产生的core文件进行调试，因此一般情况下会对core文件进行一些设置。</p>
<p>设置允许某个用户产生core文件，即不限制大小<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">vim</span> ~/.bash_profile</span><br></pre></td></tr></table></figure></p>
<p>添加下面这行内容：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ulimit</span> -c unlimited</span><br></pre></td></tr></table></figure></p>
<p>③下面是对ulimit这个命令的一些具体描述</p>
<p>ulimit用于shell启动进程所占用的资源，属于shell内建命令</p>
<p> 语法格式：ulimit</p>
<p> 参数介绍：</p>
<p> -H 设置硬件资源限制。</p>
<p> -S 设置软件资源限制。</p>
<p> -a 显示当前所有的资源限制。</p>
<p> -c size：设置core文件的最大值，单位：blocks</p>
<p> -d size：设置数据段的最大值，单位：kbytes</p>
<p> -f size：设置创建文件的最大值，单位：blocks</p>
<p> -l size：设置在内存中锁定进程的最大值，单位：kbytes</p>
<p> -m size：设置可以使用的常驻内存的最大值，单位：kbytes</p>
<p> -n size：设置内核可以同时打开的文件描述符的最大值，单位：n</p>
<p> -p size：设置管道缓冲区的最大值，单位：kbytes</p>
<p> -s size：设置堆栈的最大值.单位：kbytes</p>
<p> -t size：设置CPU使用时间的最大上限，单位：seconds</p>
<p> -v size：设置虚拟内存的最大值，单位：kbytes</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/12/06/" itemprop="url">
                  怎样击败360
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-12-06T15:45:00+08:00" content="Dec 6 2013">
              Dec 6 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/IT杂谈/" itemprop="url" rel="index">
                    <span itemprop="name">IT杂谈</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/12/06/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/12/06/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>严嵩被抓了之后，徐阶问众人：怎样彻底搬到严嵩？众人你一言，我一语，华丽丽地列出严嵩几十大罪状。徐阶微微一笑……最后，严嵩被以里通外国，叛乱汉奸的罪名处死。</p>
<p>其实我觉得对付360也得用类似的手段。你说严嵩该不该死，当然该，而且必须死！360简直就是严嵩的复刻版。</p>
<p>刘瑾被灭，严嵩北上，长跪夏言府前，言感动遂以嵩为知己，自此严嵩平步青云，结果嵩借曾铣之名，假皇帝之手处死夏言；刘韧与周鸿祎称兄道弟，周遭遇3721声名狼藉，如过街老鼠，而后360初创也算是蒸蒸日上，结果昔日兄弟亲手送刘韧入牢狱。</p>
<p>严嵩一手遮天之时，出现了徐阶、高拱、张居正、戚继光、海瑞、杨继盛等无数名臣贤士；360呼风唤雨之际，腾讯手握船票，百度狼性出击，金山浴火重生。</p>
<p>接下来，各位可以根据严嵩倒台后高拱、张居正双子星亲手缔造的大明中兴，预测一下未来了。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/11/10/" itemprop="url">
                  Shell脚本实现服务器单板快速登录切换
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-11-10T22:43:39+08:00" content="Nov 10 2013">
              Nov 10 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/11/10/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/11/10/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>实际工作中，有很多的服务器，为保证安全性和时效性，一般会取一台跳板机服务器作为外网连接媒介，把其他所有服务器都放在内网，所有服务都通过跳板机提供对外接口，若是要执行线上维护，就都先登录跳板机，然后由跳板机切换登录到其他服务器。如果每次切换都ssh+Server IP，那效率就太低了……</p>
<p>下面是一个效率比较高也比较可靠的方案：</p>
<p>①在跳板机上设置登录到各个内网服务器的ssh证书，ssh登录的时候就不需要再输入密码，直接通过证书加解密会非常方便，安全性也会提高。</p>
<p>②通过以下脚本，实现快速切换登录：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#!/bin/bash</span></span><br><span class="line"><span class="preprocessor">#</span></span><br><span class="line"><span class="preprocessor"># Source function library</span></span><br><span class="line"><span class="keyword">case</span> <span class="string">"$1"</span> in</span><br><span class="line">master)</span><br><span class="line">  ssh <span class="number">192.168</span><span class="number">.10</span><span class="number">.101</span></span><br><span class="line">  ;;</span><br><span class="line">slave)</span><br><span class="line">  ssh <span class="number">192.168</span><span class="number">.10</span><span class="number">.102</span></span><br><span class="line">  ;;</span><br><span class="line">web1)</span><br><span class="line">  ssh <span class="number">192.168</span><span class="number">.10</span><span class="number">.103</span></span><br><span class="line">  ;;</span><br><span class="line">web2)</span><br><span class="line">  ssh <span class="number">192.168</span><span class="number">.10</span><span class="number">.104</span></span><br><span class="line">  ;;</span><br><span class="line">web3)</span><br><span class="line">  ssh <span class="number">192.168</span><span class="number">.10</span><span class="number">.105</span></span><br><span class="line">  ;;</span><br><span class="line">*)</span><br><span class="line">  echo <span class="string">"useage: con &#123;master|slave|web1|web2|web3&#125;"</span></span><br><span class="line">  ;;</span><br><span class="line">esac</span><br><span class="line"><span class="built_in">exit</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></p>
<p>  将以上脚本命名为con，放入/bin文件夹下，赋予执行权限，然后就可以使用con master|slave|web1|web2|web3来切换登录到各个服务器了。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/11/06/" itemprop="url">
                  如果我是DNSPod的产品经理
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-11-06T23:25:12+08:00" content="Nov 6 2013">
              Nov 6 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/IT杂谈/" itemprop="url" rel="index">
                    <span itemprop="name">IT杂谈</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/11/06/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/11/06/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>   现在看来，DNSPod的技术、运营和客户满意度在国内都已经处于顶尖的位置，我觉得对于DNSPod这类以技术驱动的公司来讲，尤其是DNSPod是已经发展到现在这种规模和状态，产品经理这个职位其实并不像其他的互联网企业显得那么重要。不过，如果我做了阿D的产品经理，我可能会从以下几个方面去完善现在的DNSPod。</p>
<p>   一、我比较看重社区。我觉得阿D应该有自己的社区和论坛，开放的API和功能可以分为几个阶段，alpha,beta,release,standard等，先在社区论坛试用，通过招募测试员进行试用，给产品提出改进意见，然后根据意见的合理性程度进行评估整改。</p>
<p>   第三方的项目和插件也可以在社区有更大的发展，甚至通过奖励第三方开发者的方式，让他们与阿D一起给用户们提供更好的服务。我始终觉得一个优秀的产品索要照顾的不仅仅是客户，更是广大的用户。甚至可以邀请一些相关的开源团队或者项目，让他们为阿D的用户开发更好用的插件应用。</p>
<p>   二、目前DNSPod的客户群体应该主要还是集中于中小网站、站长和私人博客等，但是仍有许多人选择了其他家的解析服务，我觉得DNSPod可以试着去拓宽自己的客户群体。这就可能牵涉到另一个问题，域名解析无非看重三点：速度、稳定和安全。我觉得阿D的最大的特点，就是“专注”。阿D的解析速度和稳定性，我相信业界应该已经达成了共识，但是这个时候专注既是优势，却也成了劣势，专注于DNS解析领域，有时候会让人对于阿D的安全性会有一定的困惑。这个时候，我觉得阿D需要与一些注明的安全厂商携起手来（仅仅有安全宝可不够喔），加强安全方面的合作和探索。根据这个思路，阿D还可以试着与其他相关的企业去合作，如域名注册商，如CDN厂商，如IDC厂商等等，当然更加少不了电信运营商。</p>
<p>   三、移动互联网时代，我觉得有必要做一个Android<br>HD、iPad和WP HD客户端了，一些在电脑上能完成的操作，通过平板上的移动客户端一样可以实现。手机端屏幕太小，操作起来体验上应该不会好，有短信和微信报警通知就够了。</p>
<p>   四、我觉得最好有一个比较好的方式将站长们串联起来，让站长之间加强互动，使阿D的口碑在站长圈子里能够口口相传。阿D可以引导站长们在各自所在的城市做组织一些线下的交流活动，平时做一些技术交流分享；甚至阿D自己也可以做一些城市巡回活动，不需要搞的大张旗鼓，小圈子就可以，类似于GDG那样的。</p>
<p>   以上就是我的一些想法，当然都是一些很粗鄙的想法，作为产品小白，这也算是个开始吧，毕竟自己希望以后有机会去做产品。以后咱也算是混产品界的啦……=_=!!!</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/11/05/" itemprop="url">
                  获取程序所在目录代码解析
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-11-05T22:25:37+08:00" content="Nov 5 2013">
              Nov 5 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/11/05/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/11/05/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>我觉得，Shell对比其他的编程语言，最大的优势在于每个字符都包含有极大的信息量，其他语言可能要很长很多行代码才能实现的功能，Shell代码一行就能实现；而且一个可用的Shell脚本里几乎每个字符可能都无法更改，一旦更改，就会造成整个脚本不可用（当然，变换实现思路修改了整段代码的除外）。</p>
<p>今天下午熟悉线上环境的巡检脚本，看到这样一段代码，感觉挺有意思的，也很好的印证了我上面的观点。特意择出来分析一下这段代码包含的一些东西。这段代码网上几乎随处可见，而且极其精炼，几乎是改无可改了，呵呵。</p>
<p>这段代码是这样的：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Resolve links - $0 may be a symbolic link</span></span><br><span class="line">PRG=<span class="string">"<span class="variable">$0</span>"</span></span><br><span class="line"><span class="keyword">while</span> [ -h <span class="string">"<span class="variable">$PRG</span>"</span> ]; <span class="keyword">do</span></span><br><span class="line">        ls=`ls -ld <span class="string">"<span class="variable">$PRG</span>"</span>`</span><br><span class="line">        link=`expr <span class="string">"<span class="variable">$ls</span>"</span> : <span class="string">'.*-&gt; \(.*\)$'</span>`</span><br><span class="line">        <span class="keyword">if</span> expr <span class="string">"<span class="variable">$link</span>"</span> : <span class="string">'.*/.*'</span> &gt; /dev/null; <span class="keyword">then</span></span><br><span class="line">                PRG=<span class="string">"<span class="variable">$link</span>"</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">                PRG=`dirname <span class="string">"<span class="variable">$PRG</span>"</span>`/<span class="string">"<span class="variable">$link</span>"</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        <span class="keyword">done</span></span><br><span class="line">PRGDIR=`dirname <span class="string">"<span class="variable">$PRG</span>"</span>`  <span class="comment">#所执行程序所在的目录</span></span><br></pre></td></tr></table></figure></p>
<p>第一行是注释，很容易理解；最后一行就是这段脚本所要实现的目标，即获取一个可执行脚本程序所在的目录。</p>
<p>首先从脚本第一行可用代码来解释：PRG=”$0”，这里的PRG指的就是可执行脚本的文件名，当然也可能是指向这个脚本的软链接文件，这个在下面会做判断，暂且按下不表。先看软链接，那么什么又是软链接呢？</p>
<p>Linux下的链接分为两种：硬链接（Hard Link）和软链接（Symbolic Link），我们经常见到的link命令，就是用来创建Linux链接的，link默认创建的是硬链接，加上-s参数就是创建软链接。文件链接是Linux文件系统的一个重要特征。在这个脚本里指的就是软链接。</p>
<p>硬链接引用的文件在文件系统的物理索引，即inode；所以不管你是删除或者移动源文件，硬链接都不会被破坏，它引用的并不是文件在文件结构里的位置。这样的话，用户就不必需要拥有对源文件的访问权限，就防止了误删，只有所有的硬链接引用都被删除之后，才能把文件真正删除。这相当于是为源文件创建了一个别名，实际上源文件和链接文件是同一个文件，用ls -i查看其inode值，可以发现他们是一样的。 </p>
<p>软链接有点像Windows里的快捷方式，但又不一样。跟硬链接一样，编辑或者执行软链接文件，就等于是编辑或者执行了源文件。但是软链接文件与源文件是不同的两个文件，软链接文件只是指向源文件的一个指针，删除了软链接文件对源文件没有任何影响，删除了源文件，软链接文件也就没有了任何意义，cat查看的时候会提示文件不存在。另，软链接可以指向文件夹，硬链接却不可以。</p>
<p>紧接着是一个while循环，while [ -h “$PRO” ]; do …… done，参数-h的意思就是判断$PRO是否存在和$PRO是否是一个软链接文件，这个循环的意思就是当$PRO存在并且$PRO是一个软链接文件的时候，执行do …… done之间的脚本。</p>
<p>接下来就是expr这个函数了。这是Linux里一个很重要的命令，一般用于整数值计算，也可用于字符操作。</p>
<ol>
<li>整数计算里，运算符两边注意加空格即可，”*”符号要加”\”转义符；</li>
<li>循环里的expr用于增量计算。循环初始化为0，然后循环值加1，如下面的例子，从（expr）命令接受输出并将之作为输入的循环变量；</li>
<li>expr同样可以进行检测是个字符是否是数字；</li>
<li>模式匹配。在这个脚本里，expr的作用就是模式匹配，符号就是冒号”:”。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">link=`expr <span class="string">"<span class="variable">$ls</span>"</span> : <span class="string">'.*-&gt; \(.*\)$'</span>`</span><br></pre></td></tr></table></figure>
<p>这行代码的返回的就是”-&gt;;”后面的字符串，实际上也就是软链接指向的真实的文件名；<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> expr <span class="string">"<span class="variable">$link</span>"</span> : <span class="string">'.*/.*'</span> &gt; /dev/null; <span class="keyword">then</span></span><br><span class="line">   PRG=<span class="string">"<span class="variable">$link</span>"</span></span><br></pre></td></tr></table></figure></p>
<p>这两行是为了判断$link是否是以”/“开头；<br><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PRGDIR=<span class="escape">`d</span>irname <span class="string">"$PRG"</span>`</span><br></pre></td></tr></table></figure></p>
<p>这行就是最后我们所想要的结果了。</p>
<p>至此，这段代码就分析完了。Shell里符号太多，不熟悉的话一眼看上去感觉好蒙啊，实际上每个字符都有很大的信息量，主要还是对这些字符的熟悉程度。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/11/03/" itemprop="url">
                  想要进行小说创作应该阅读哪些书籍能够提升能力？
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-11-03T13:22:03+08:00" content="Nov 3 2013">
              Nov 3 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/随笔/" itemprop="url" rel="index">
                    <span itemprop="name">随笔</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/11/03/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/11/03/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>昨天下午去参加了<a href="http://www.zhihu.com/people/jiang-fang-zhou" target="_blank" rel="external">蒋方舟</a>小姐的签售会，紧接着晚上就是阎连科老师的签售会，虽然书店离我住的地方非常远，为了等到阎老师的签名以至于回来的非常晚，但是也值了。感觉方舟同学没我想象中的漂亮啊（要骂我请偷偷的），谈吐很优雅很有气质，真正的出口成章，每签一个名，双手把书递给读者的时候都要抬头看着读者，太太太太有礼貌了。不过字写的没阎老师好看，我觉得也没我的好看……</p>
<p>听阎老师讲写作的淘汰，讲“迎光”“借光”“穿透光”三种类型的写作，讲浪费掉的自己最好的写作时光，我听的热泪盈眶；尤其是“最好的写作时光”那段，令人非常的动容。阎老师也是一位非常有趣的人，很好玩儿。</p>
<p>正如方舟妹妹（比我小两个月）讲的那样，阎老师真的是一位非常非常伟大的作家，“神实主义”，真的是特点非常鲜明，《炸裂志》刚看了第一章，我就觉得这书实在是太好了，首先，我得承认这种写作手法，对于我们这些普通人来讲，实在太难学了；不过，理解起来还是并不复杂，而且你会发自内心地觉得这浓浓的原始乡土野性，其实才是真正的阳春白雪。如果题主执意想学习这种风格的话，倒是可以挑战一下。</p>
<p>晚上有位同学向阎老师提了类似的问题，我想说阎老师的回答确实比现在最高票蒋小姐的回答要高好几个档次啊，不过有的人可能会觉得虚了点。阎老师的大意是这样的，不要把自己局限于读哪些书上，自己喜欢读什么就读什么，读金庸一样能成为大家。写作技巧和方法论的提高其实还是浅层次的，写作的关键在于去领悟作者的情怀和意境。举个不恰当的例子，今天下午方舟妹妹说，韩寒要拍电影了，所以就对他有点看法了（求不断章取义，求不借题发挥）；但是阎老师却经常兴致勃勃地与人谈论《甄嬛传》和各位小主。所谓艺术，并无高下之分，文学是艺术，绘画是艺术，影视同样也是艺术。用心去体味艺术作品内在的美妙，取其对自己有用的就好，完全不必纠结于读哪些书。</p>
<p>原文链接：<a href="http://www.zhihu.com/question/21429250/answer/19809569" target="_blank" rel="external">想要进行小说创作应该阅读哪些书籍能够提升能力？</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/10/31/" itemprop="url">
                  Linux挂载磁盘教程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-10-31T20:23:52+08:00" content="Oct 31 2013">
              Oct 31 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/10/31/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/10/31/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>###挂载前查看各分区基本情况：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="preprocessor"># df -h</span></span><br><span class="line">Filesystem            Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/xvda2             <span class="number">36</span>G  <span class="number">2.3</span>G   <span class="number">32</span>G   <span class="number">7</span>% /</span><br><span class="line">tmpfs                  <span class="number">15</span>G     <span class="number">0</span>   <span class="number">15</span>G   <span class="number">0</span>% /dev/shm</span><br></pre></td></tr></table></figure></p>
<p>###查看各磁盘基本情况：<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="comment">@localhost ~]# fdisk -l </span></span><br><span class="line"><span class="label">Disk</span> /dev/xvda: <span class="number">42</span>.<span class="number">9</span> GB, <span class="number">42949672960</span> <span class="keyword">bytes</span><br><span class="line"></span><span class="number">255</span> heads, <span class="number">63</span> sectors/track, <span class="number">5221</span> cylinders</span><br><span class="line"><span class="label">Units</span> = cylinders of <span class="number">16065</span> * <span class="number">512</span> = <span class="number">8225280</span> <span class="keyword">bytes</span><br><span class="line"></span><span class="label">Sector</span> size (logical/physical): <span class="number">512</span> <span class="keyword">bytes </span>/ <span class="number">512</span> <span class="keyword">bytes</span><br><span class="line"></span>I/O size (minimum/optimal): <span class="number">512</span> <span class="keyword">bytes </span>/ <span class="number">512</span> <span class="keyword">bytes</span><br><span class="line"></span><span class="label">Disk</span> identifier: <span class="number">0x00014faa</span></span><br><span class="line">    Device <span class="keyword">Boot </span>     Start         <span class="preprocessor">End</span>      <span class="keyword">Blocks </span>  Id  System</span><br><span class="line">/dev/xvda1               <span class="number">1</span>         <span class="number">523</span>     <span class="number">4194304</span>   <span class="number">82</span>  Linux swap / Solaris</span><br><span class="line"><span class="label">Partition</span> <span class="number">1</span> does not <span class="preprocessor">end</span> on cylinder <span class="keyword">boundary.</span><br><span class="line"></span>/dev/xvda2   *         <span class="number">523</span>        <span class="number">5222</span>    <span class="number">37747712</span>   <span class="number">83</span>  Linux</span><br><span class="line"><span class="label">Disk</span> /dev/xvde: <span class="number">493</span>.<span class="number">9</span> GB, <span class="number">493921239040</span> <span class="keyword">bytes</span><br><span class="line"></span><span class="number">255</span> heads, <span class="number">63</span> sectors/track, <span class="number">60049</span> cylinders</span><br><span class="line"><span class="label">Units</span> = cylinders of <span class="number">16065</span> * <span class="number">512</span> = <span class="number">8225280</span> <span class="keyword">bytes</span><br><span class="line"></span><span class="label">Sector</span> size (logical/physical): <span class="number">512</span> <span class="keyword">bytes </span>/ <span class="number">512</span> <span class="keyword">bytes</span><br><span class="line"></span>I/O size (minimum/optimal): <span class="number">512</span> <span class="keyword">bytes </span>/ <span class="number">512</span> <span class="keyword">bytes</span><br><span class="line"></span><span class="label">Disk</span> identifier: <span class="number">0x00000000</span></span><br></pre></td></tr></table></figure></p>
<p>###挂载磁盘/dev/xvde的具体步骤：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# fdisk /dev/xvde </span><br><span class="line">Device contains neither a valid DOS partition table, nor Sun, SGI or OSF disklabel</span><br><span class="line">Building a new DOS disklabel with disk identifier 0xb28f7207.</span><br><span class="line">Changes will remain in memory only, until you decide to write them.</span><br><span class="line">After that, of course, the previous content won't be recoverable.</span><br><span class="line">Warning: invalid flag 0x0000 of partition table 4 will be corrected by w(rite)</span><br><span class="line">WARNING: DOS-compatible mode is deprecated. It's strongly recommended to</span><br><span class="line">         switch off the mode (command 'c') and <span class="operator"><span class="keyword">change</span> display units <span class="keyword">to</span></span><br><span class="line">         sectors (command <span class="string">'u'</span>).</span><br><span class="line">Command (<span class="keyword">m</span> <span class="keyword">for</span> <span class="keyword">help</span>): <span class="keyword">p</span>^H</span><br><span class="line">Disk /dev/xvde: <span class="number">493.9</span> GB, <span class="number">493921239040</span> <span class="keyword">bytes</span></span><br><span class="line"><span class="number">255</span> heads, <span class="number">63</span> sectors/track, <span class="number">60049</span> cylinders</span><br><span class="line">Units = cylinders <span class="keyword">of</span> <span class="number">16065</span> * <span class="number">512</span> = <span class="number">8225280</span> <span class="keyword">bytes</span></span><br><span class="line">Sector <span class="keyword">size</span> (<span class="keyword">logical</span>/<span class="keyword">physical</span>): <span class="number">512</span> <span class="keyword">bytes</span> / <span class="number">512</span> <span class="keyword">bytes</span></span><br><span class="line"><span class="keyword">I</span>/O <span class="keyword">size</span> (<span class="keyword">minimum</span>/<span class="keyword">optimal</span>): <span class="number">512</span> <span class="keyword">bytes</span> / <span class="number">512</span> <span class="keyword">bytes</span></span><br><span class="line">Disk identifier: <span class="number">0xb28f7207</span></span><br><span class="line">    Device Boot      <span class="keyword">Start</span>         <span class="keyword">End</span>      Blocks   <span class="keyword">Id</span>  <span class="keyword">System</span></span><br><span class="line">Command (<span class="keyword">m</span> <span class="keyword">for</span> <span class="keyword">help</span>): <span class="keyword">m</span></span><br><span class="line">Command <span class="keyword">action</span></span><br><span class="line">   a   toggle a bootable flag</span><br><span class="line">   b   edit bsd disklabel</span><br><span class="line">   <span class="keyword">c</span>   toggle the dos <span class="keyword">compatibility</span> flag</span><br><span class="line">   <span class="keyword">d</span>   <span class="keyword">delete</span> a <span class="keyword">partition</span></span><br><span class="line">   <span class="keyword">l</span>   <span class="keyword">list</span> known <span class="keyword">partition</span> types</span><br><span class="line">   <span class="keyword">m</span>   print this menu</span><br><span class="line">   <span class="keyword">n</span>   <span class="keyword">add</span> a <span class="keyword">new</span> <span class="keyword">partition</span></span><br><span class="line">   o   <span class="keyword">create</span> a <span class="keyword">new</span> <span class="keyword">empty</span> DOS <span class="keyword">partition</span> <span class="keyword">table</span></span><br><span class="line">   <span class="keyword">p</span>   print the <span class="keyword">partition</span> <span class="keyword">table</span></span><br><span class="line">   q   quit <span class="keyword">without</span> saving changes</span><br><span class="line">   s   <span class="keyword">create</span> a <span class="keyword">new</span> <span class="keyword">empty</span> Sun disklabel</span><br><span class="line">   <span class="keyword">t</span>   <span class="keyword">change</span> a <span class="keyword">partition</span><span class="string">'s system id</span><br><span class="line">   u   change display/entry units</span><br><span class="line">   v   verify the partition table</span><br><span class="line">   w   write table to disk and exit</span><br><span class="line">   x   extra functionality (experts only)</span><br><span class="line">Command (m for help): n</span><br><span class="line">Command action</span><br><span class="line">   e   extended</span><br><span class="line">   p   primary partition (1-4)</span><br><span class="line">p</span><br><span class="line">Partition number (1-4): 1</span><br><span class="line">First cylinder (1-60049, default 1): </span><br><span class="line">Using default value 1</span><br><span class="line">Last cylinder, +cylinders or +size&#123;K,M,G&#125; (1-60049, default 60049): </span><br><span class="line">Using default value 60049</span><br><span class="line">Command (m for help): w</span><br><span class="line">The partition table has been altered!</span><br><span class="line">Calling ioctl() to re-read partition table.</span><br><span class="line">Syncing disks.</span></span></span><br></pre></td></tr></table></figure></p>
<p>###在不重启的情况下识别出来刚才创建的分区：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># partprobe </span></span><br><span class="line">Warning: WARNING: <span class="keyword">the</span> kernel failed <span class="keyword">to</span> re-<span class="command">read</span> <span class="keyword">the</span> partition table <span class="function_start"><span class="keyword">on</span></span> /dev/xvda (Device <span class="keyword">or</span> resource busy).  As a <span class="constant">result</span>, <span class="keyword">it</span> may <span class="keyword">not</span> reflect all <span class="keyword">of</span> your changes <span class="keyword">until</span> <span class="keyword">after</span> reboot.</span><br><span class="line">Warning: Unable <span class="keyword">to</span> open /dev/sr0 <span class="command">read</span>-<span class="command">write</span> (Read-only <span class="type">file</span> system).  /dev/sr0 has been opened <span class="command">read</span>-only.</span><br></pre></td></tr></table></figure></p>
<p>###再次查看各磁盘基本情况：<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="comment">@localhost ~]# fdisk -l </span></span><br><span class="line"><span class="label">Disk</span> /dev/xvda: <span class="number">42</span>.<span class="number">9</span> GB, <span class="number">42949672960</span> <span class="keyword">bytes</span><br><span class="line"></span><span class="number">255</span> heads, <span class="number">63</span> sectors/track, <span class="number">5221</span> cylinders</span><br><span class="line"><span class="label">Units</span> = cylinders of <span class="number">16065</span> * <span class="number">512</span> = <span class="number">8225280</span> <span class="keyword">bytes</span><br><span class="line"></span><span class="label">Sector</span> size (logical/physical): <span class="number">512</span> <span class="keyword">bytes </span>/ <span class="number">512</span> <span class="keyword">bytes</span><br><span class="line"></span>I/O size (minimum/optimal): <span class="number">512</span> <span class="keyword">bytes </span>/ <span class="number">512</span> <span class="keyword">bytes</span><br><span class="line"></span><span class="label">Disk</span> identifier: <span class="number">0x00014faa</span></span><br><span class="line">    Device <span class="keyword">Boot </span>     Start         <span class="preprocessor">End</span>      <span class="keyword">Blocks </span>  Id  System</span><br><span class="line">/dev/xvda1               <span class="number">1</span>         <span class="number">523</span>     <span class="number">4194304</span>   <span class="number">82</span>  Linux swap / Solaris</span><br><span class="line"><span class="label">Partition</span> <span class="number">1</span> does not <span class="preprocessor">end</span> on cylinder <span class="keyword">boundary.</span><br><span class="line"></span>/dev/xvda2   *         <span class="number">523</span>        <span class="number">5222</span>    <span class="number">37747712</span>   <span class="number">83</span>  Linux</span><br><span class="line"><span class="label">Disk</span> /dev/xvde: <span class="number">493</span>.<span class="number">9</span> GB, <span class="number">493921239040</span> <span class="keyword">bytes</span><br><span class="line"></span><span class="number">255</span> heads, <span class="number">63</span> sectors/track, <span class="number">60049</span> cylinders</span><br><span class="line"><span class="label">Units</span> = cylinders of <span class="number">16065</span> * <span class="number">512</span> = <span class="number">8225280</span> <span class="keyword">bytes</span><br><span class="line"></span><span class="label">Sector</span> size (logical/physical): <span class="number">512</span> <span class="keyword">bytes </span>/ <span class="number">512</span> <span class="keyword">bytes</span><br><span class="line"></span>I/O size (minimum/optimal): <span class="number">512</span> <span class="keyword">bytes </span>/ <span class="number">512</span> <span class="keyword">bytes</span><br><span class="line"></span><span class="label">Disk</span> identifier: <span class="number">0xb28f7207</span></span><br><span class="line">    Device <span class="keyword">Boot </span>     Start         <span class="preprocessor">End</span>      <span class="keyword">Blocks </span>  Id  System</span><br><span class="line">/dev/xvde1               <span class="number">1</span>       <span class="number">60049</span>   <span class="number">482343561</span>   <span class="number">83</span>  Linux <span class="comment">/*系统已接入磁盘*/</span></span><br></pre></td></tr></table></figure></p>
<p>###以ext3的格式格式化磁盘：<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="comment">@localhost ~]# mkfs.ext3 /dev/xvde1 </span></span><br><span class="line"><span class="label">mke2fs</span> <span class="number">1</span>.<span class="number">41</span>.<span class="number">12</span> (<span class="number">17</span>-May-<span class="number">2010</span>)</span><br><span class="line"><span class="label">Filesystem</span> label=</span><br><span class="line"><span class="label">OS</span> type: Linux</span><br><span class="line"><span class="keyword">Block </span>size<span class="number">=4096</span> (log<span class="number">=2</span>)</span><br><span class="line"><span class="label">Fragment</span> size<span class="number">=4096</span> (log<span class="number">=2</span>)</span><br><span class="line"><span class="keyword">Stride=0 </span><span class="keyword">blocks, </span><span class="keyword">Stripe </span>width<span class="number">=0</span> <span class="keyword">blocks</span><br><span class="line"></span><span class="number">30146560</span> inodes, <span class="number">120585890</span> <span class="keyword">blocks</span><br><span class="line"></span><span class="number">6029294</span> <span class="keyword">blocks </span>(<span class="number">5</span>.<span class="number">00</span>%) reserved for the super user</span><br><span class="line"><span class="label">First</span> <span class="preprocessor">data</span> <span class="keyword">block=0</span><br><span class="line"></span><span class="label">Maximum</span> filesystem <span class="keyword">blocks=4294967296</span><br><span class="line"></span><span class="number">3680</span> <span class="keyword">block </span>groups</span><br><span class="line"><span class="number">32768</span> <span class="keyword">blocks </span>per group, <span class="number">32768</span> fragments per group</span><br><span class="line"><span class="number">8192</span> inodes per group</span><br><span class="line"><span class="label">Superblock</span> <span class="keyword">backups </span>stored on <span class="keyword">blocks: </span></span><br><span class="line">    <span class="number">32768</span>, <span class="number">98304</span>, <span class="number">163840</span>, <span class="number">229376</span>, <span class="number">294912</span>, <span class="number">819200</span>, <span class="number">884736</span>, <span class="number">1605632</span>, <span class="number">2654208</span>, </span><br><span class="line">    <span class="number">4096000</span>, <span class="number">7962624</span>, <span class="number">11239424</span>, <span class="number">20480000</span>, <span class="number">23887872</span>, <span class="number">71663616</span>, <span class="number">78675968</span>, </span><br><span class="line">    <span class="number">102400000</span></span><br><span class="line"><span class="label">Writing</span> inode tables: done                            </span><br><span class="line"><span class="label">Creating</span> journal (<span class="number">32768</span> <span class="keyword">blocks): </span>done</span><br><span class="line"><span class="label">Writing</span> superblocks <span class="keyword">and </span>filesystem accounting information: done</span><br><span class="line"><span class="label">This</span> filesystem will <span class="keyword">be </span>automatically checked every <span class="number">25</span> mounts or</span><br><span class="line"><span class="number">180</span> days, whichever comes first.  Use tune2fs -c or -i to override.</span><br></pre></td></tr></table></figure></p>
<p>###编辑磁盘挂载配置文件：<br><figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># vim /etc/fstab </span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># /etc/fstab</span></span><br><span class="line"><span class="comment"># Created by anaconda on Tue Mar 26 14:54:14 2013</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Accessible filesystems, by reference, are maintained under '/dev/disk'</span></span><br><span class="line"><span class="comment"># See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="type">UUID</span>=<span class="number">5056</span>bbc2-cf00-<span class="number">4</span>f7c-<span class="number">95</span>e1-<span class="number">35</span>be323fc523 /                       ext3    defaults        <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="type">UUID</span>=c2a7b4a1-c806-<span class="number">46</span>e5-a97d-b9a964fc9e05 swap                    swap    defaults        <span class="number">0</span> <span class="number">0</span></span><br><span class="line">tmpfs                   /dev/shm                tmpfs   defaults        <span class="number">0</span> <span class="number">0</span></span><br><span class="line">devpts                  /dev/pts                devpts  gid=<span class="number">5</span>,mode=<span class="number">620</span>  <span class="number">0</span> <span class="number">0</span></span><br><span class="line">sysfs                   /sys                    sysfs   defaults        <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">proc</span>                    /<span class="keyword">proc</span>                   <span class="keyword">proc</span>    defaults        <span class="number">0</span> <span class="number">0</span></span><br><span class="line">/dev/xvde1              /opt/                   ext3    defaults        <span class="number">0</span> <span class="number">0</span> /*增加这一行内容*/</span><br></pre></td></tr></table></figure></p>
<p>###执行挂载：<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="property">@localhost</span> ~]<span class="comment"># mount -a</span></span><br></pre></td></tr></table></figure></p>
<p>###查看各分区基本情况：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="preprocessor"># df -h </span></span><br><span class="line">Filesystem            Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/xvda2             <span class="number">36</span>G  <span class="number">2.3</span>G   <span class="number">32</span>G   <span class="number">7</span>% /</span><br><span class="line">tmpfs                  <span class="number">15</span>G     <span class="number">0</span>   <span class="number">15</span>G   <span class="number">0</span>% /dev/shm</span><br><span class="line">/dev/xvde1            <span class="number">453</span>G  <span class="number">199</span>M  <span class="number">430</span>G   <span class="number">1</span>% /opt       <span class="comment">/*/opt分区已挂载上/dev/xvde1这个磁盘*/</span></span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/8/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/10/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://easydone.qiniudn.com/default_avatar.jpg"
               alt="Ailurus" />
          <p class="site-author-name" itemprop="name">Ailurus</p>
          <p class="site-description motion-element" itemprop="description">Android Developer</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">144</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">13</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">214</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://plus.google.com/u/0/105488752510871319253" target="_blank" title="G+">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  G+
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://github.com/liangzhitao" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/liangzhitao" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://facebook.com/liangzhitao" target="_blank" title="Facebook">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Facebook
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/208087666" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://dim.red" title="明哥" target="_blank">明哥</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://nicodelee.sinaapp.com" title="日志" target="_blank">日志</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://iamwent.github.io" title="大城小黄" target="_blank">大城小黄</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://veaer.com" title="veaer" target="_blank">veaer</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://yifeiyuan.me" title="程序亦非猿" target="_blank">程序亦非猿</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://abner-nimengbo.cn" title="阿布" target="_blank">阿布</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://itangqi.me" title="汤奇" target="_blank">汤奇</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://rarnu.com" title="何老师" target="_blank">何老师</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://fucknmb.com" title="区长" target="_blank">区长</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.zhaiyifan.cn/" title="大帅" target="_blank">大帅</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://kaedea.com" title="卡老师" target="_blank">卡老师</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2012 - 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ailurus</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'easydonecn';
      var disqus_identifier = 'page/9/index.html';
      var disqus_title = '';
      var disqus_url = '';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
    </script>
  



  
  
  

  

  

</body>
</html>
