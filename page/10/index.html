<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="Just Be Unreserved!" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="Android Developer">
<meta property="og:type" content="website">
<meta property="og:title" content="Just Be Unreserved!">
<meta property="og:url" content="http://www.easydone.cn/page/10/index.html">
<meta property="og:site_name" content="Just Be Unreserved!">
<meta property="og:description" content="Android Developer">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Just Be Unreserved!">
<meta name="twitter:description" content="Android Developer">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"hide"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> Just Be Unreserved! </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Just Be Unreserved!</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">学无止境。</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/09/23/" itemprop="url">
                  Android添加桌面widget插件
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-09-23T11:02:32+08:00" content="Sep 23 2013">
              Sep 23 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/09/23/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/09/23/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>##Widget的概述<br>可以添加桌面Widget是Android的一大特色，AppWidget是在HomeScreen上显示的小部件，提供直观的交互操作，有许多的表现形式，如视频、音乐、地图、新闻、游戏等等，它的根本思想来源于代码的复用。通过在HomeScreen长按，在弹出的对话框中选择Widget部件进行构建，长按部件并拖动到垃圾箱可以删除。</p>
<p>Android中的Widget主要设计以下几个类：</p>
<ul>
<li>AppWidgerProvider</li>
<li>AppWidgetManager</li>
<li>RemoteViews</li>
</ul>
<p>Widget的核心是AppWidgetProvider，属于广播接收者，是四大组件之一，在AppWidgetProvider这个类中，一共有五个方法，其中有一个<strong>onReceive(Context, Intent)</strong>方法，分别调用了其他四个空实现的方法onEnabled(Context context)，onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds)，onDeleted(Context context, int[] appWidgetIds)，onDisabled(Context context)，而被调用的这四个方法刚好就是一个Widget的生命周期。</p>
<p>RemoteView是用来描述一个跨进程显示的View，也就是说这个View是在另外一个进程中显示的，它可以获取layout的布局文件，并且提供了可以修改View内容的一些简答操作。AppWidgetProvider提供Widget的生命周期，真正显示界面的是AppWidgetHostView（这是在Launcher中实现的），这中间就是通过RemoteView来沟通。通过RemoteView来告诉Launcher你想要的AppWidget长什么样。</p>
<p>##如何创建一个Widget</p>
<p>###配置清单文件<br>要创建一个Widget，第一步就是要在清单文件中配置：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">receiver</span> <span class="attribute">android:name</span>=<span class="value">"ExampleAppWidgetProvider"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.appwidget.action.APPWIDGET_UPDATE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">meta-data</span> <span class="attribute">android:name</span>=<span class="value">"android.appwidget.provider"</span></span><br><span class="line">        <span class="attribute">android:resource</span>=<span class="value">"@xml/example_appwidget_info"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">receiver</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>###定义Widget的生命周期<br>然后要写一个类继承AppWidgetProvider，并重写AppWidgetProvider的代表生命周期的四个空方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.widget1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.appwidget.AppWidgetManager;</span><br><span class="line"><span class="keyword">import</span> android.appwidget.AppWidgetProvider;</span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExampleAppWidgetProvider</span> <span class="keyword">extends</span> <span class="title">AppWidgetProvider</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">"ExampleAppWidgetProvider"</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 可用</span></span><br><span class="line">	<span class="annotation">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onEnabled</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">super</span>.onEnabled(context);</span><br><span class="line">		Log.i(TAG, <span class="string">"onEnabled"</span>);</span><br><span class="line">		<span class="comment">// 启动服务</span></span><br><span class="line">		context.startService(<span class="keyword">new</span> Intent(context, MyService.class));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 更新</span></span><br><span class="line">	<span class="annotation">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onUpdate</span><span class="params">(Context context, AppWidgetManager appWidgetManager,</span><br><span class="line">			<span class="keyword">int</span>[] appWidgetIds)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">super</span>.onUpdate(context, appWidgetManager, appWidgetIds);</span><br><span class="line">		Log.i(TAG, <span class="string">"onUpdate"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 删除</span></span><br><span class="line">	<span class="annotation">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDeleted</span><span class="params">(Context context, <span class="keyword">int</span>[] appWidgetIds)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">super</span>.onDeleted(context, appWidgetIds);</span><br><span class="line">		Log.i(TAG, <span class="string">"onDeleted"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 不可用</span></span><br><span class="line">	<span class="annotation">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDisabled</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">super</span>.onDisabled(context);</span><br><span class="line">		Log.i(TAG, <span class="string">"onDisabled"</span>);</span><br><span class="line">		<span class="comment">// 停止服务</span></span><br><span class="line">		context.stopService(<span class="keyword">new</span> Intent(context, MyService.class));</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>###定义Widget的基本属性<br>然后呢，就需要提供一个XML文件来定义Widget的基本属性（位于res/xml/..）目录下，右键新建Android资源文件，选择类型AppWidgetProvider即可。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- android:minWidth="294dp" 宽</span><br><span class="line">    android:minHeight="72dp"高</span><br><span class="line">    android:initialLayout="@layout/example_appwidget" widget的布局</span><br><span class="line">    --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">appwidget-provider</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    <span class="attribute">android:minWidth</span>=<span class="value">"294dp"</span></span><br><span class="line">    <span class="attribute">android:minHeight</span>=<span class="value">"72dp"</span></span><br><span class="line">    <span class="attribute">android:initialLayout</span>=<span class="value">"@layout/example_appwidget"</span></span><br><span class="line">    &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">appwidget-provider</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>###定义Widget的布局<br>接着需要提供一个Widget界面布局的XML文件（位于res/layout/…），需要注意的是该XML使用的组件必须是RemoteViews所支持的，目前原生API支持的组件如下：</p>
<ul>
<li>FrameLayout</li>
<li>LinearLayout</li>
<li>RelativeLayout</li>
<li>AnalogClock</li>
<li>Button</li>
<li>Chronmeter</li>
<li>ImageButton</li>
<li>ImageView</li>
<li>ProgressBar</li>
<li>TextView</li>
</ul>
<p><strong>如果使用这些组件之外的组件，在Widget创建的时候，会出现一个android.view.InflateException的异常。</strong></p>
<p>因此这也就导致一些功能或者样式无法实现，如很基本的List或文本编辑都是无法直接实现的，如果想自定义Widget中的View的话只能通过修改Framework来提供相应组件的支持。</p>
<p>代码示例如下：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">RelativeLayout</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    <span class="attribute">android:layout_width</span>=<span class="value">"match_parent"</span></span><br><span class="line">    <span class="attribute">android:layout_height</span>=<span class="value">"match_parent"</span></span><br><span class="line">    <span class="attribute">android:orientation</span>=<span class="value">"vertical"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">TextView</span></span><br><span class="line">        <span class="attribute">android:id</span>=<span class="value">"@+id/tv_time"</span></span><br><span class="line">        <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span></span><br><span class="line">        <span class="attribute">android:layout_height</span>=<span class="value">"fill_parent"</span></span><br><span class="line">        <span class="attribute">android:text</span>=<span class="value">"这是widget桌面插件"</span></span><br><span class="line">        <span class="attribute">android:background</span>=<span class="value">"#f00"</span></span><br><span class="line">        <span class="attribute">android:textColor</span>=<span class="value">"@android:color/black"</span></span><br><span class="line">        <span class="attribute">android:gravity</span>=<span class="value">"right"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">Button</span></span><br><span class="line">        <span class="attribute">android:id</span>=<span class="value">"@+id/bt_open"</span></span><br><span class="line">        <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span></span><br><span class="line">        <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span></span><br><span class="line">        <span class="attribute">android:text</span>=<span class="value">"复制号码到拨号盘"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>###Widget动态实例</p>
<p>接下来，可以实例实现一个Widget显示系统时间和复制号码到拨号盘。</p>
<p>一般Widget所显示的内容都是需要动态变化的，因此需要开启服务在后台操作。AppWidgetManager就是负责更新Widget的内容，AppWidgetManager类中提供一个获取实例的方法，getInstance(Context context)，AppWidgetManager也提供了三个更新Widget的方法，由于AppWidgetProvider是一个广播接收者，很显然，需要传递一个组件进去，所以在这里我需要选择<strong>updateAppWidget(ComponentName provider, RemoteViews views)</strong>这个方法来对AppWidget进行更新操作。在上面继承的AppWidgetProvider类，在Widget的生命周期方法中，已经做了启动和停止服务的操作，然后我只要写一个MyService类继承Service即可，当然，后台服务需要开启线程，要重写run()方法。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.widget1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Timer;</span><br><span class="line"><span class="keyword">import</span> java.util.TimerTask;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.PendingIntent;</span><br><span class="line"><span class="keyword">import</span> android.app.Service;</span><br><span class="line"><span class="keyword">import</span> android.appwidget.AppWidgetManager;</span><br><span class="line"><span class="keyword">import</span> android.content.ComponentName;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.net.Uri;</span><br><span class="line"><span class="keyword">import</span> android.os.IBinder;</span><br><span class="line"><span class="keyword">import</span> android.widget.RemoteViews;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyService</span> <span class="keyword">extends</span> <span class="title">Service</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 定时器</span></span><br><span class="line">	Timer timer = <span class="keyword">null</span>;</span><br><span class="line">	TimerTask task = <span class="keyword">new</span> TimerTask() &#123;</span><br><span class="line"></span><br><span class="line">		<span class="annotation">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			<span class="comment">// 更新app widget</span></span><br><span class="line">			<span class="comment">// 使用AppWidgetManager 更新</span></span><br><span class="line">			<span class="comment">// App Widget管理器</span></span><br><span class="line">			AppWidgetManager awm = AppWidgetManager</span><br><span class="line">					.getInstance(getApplicationContext());</span><br><span class="line">			<span class="comment">// 组件</span></span><br><span class="line">			ComponentName provider = <span class="keyword">new</span> ComponentName(getApplicationContext(),</span><br><span class="line">					ExampleAppWidgetProvider.class);</span><br><span class="line">			<span class="comment">// 远端布局（不在activity上的布局）</span></span><br><span class="line">			RemoteViews views = <span class="keyword">new</span> RemoteViews(getPackageName(),</span><br><span class="line">					R.layout.example_appwidget);</span><br><span class="line">			<span class="comment">// 获取系统当前的时间</span></span><br><span class="line">			<span class="keyword">long</span> millis = System.currentTimeMillis();</span><br><span class="line">			SimpleDateFormat format = <span class="keyword">new</span> SimpleDateFormat(</span><br><span class="line">					<span class="string">"yyyy-MM-dd hh:mm:ss"</span>);</span><br><span class="line">			<span class="comment">// 格式化系统时间</span></span><br><span class="line">			String text = format.format(millis);</span><br><span class="line">			<span class="comment">// 设置显示内容</span></span><br><span class="line">			views.setTextViewText(R.id.tv_time, text);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 复制号码到拨号盘</span></span><br><span class="line">			Intent intent = <span class="keyword">new</span> Intent();</span><br><span class="line">			intent.setAction(Intent.ACTION_DIAL);</span><br><span class="line">			intent.setData(Uri.parse(<span class="string">"tel:8888"</span>));</span><br><span class="line">			PendingIntent pendingIntent = PendingIntent.getActivity(</span><br><span class="line">					getApplicationContext(), <span class="number">100</span>, intent, <span class="number">0</span>);</span><br><span class="line">			<span class="comment">// 事件</span></span><br><span class="line">			views.setOnClickPendingIntent(R.id.bt_open, pendingIntent);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 更新</span></span><br><span class="line">			awm.updateAppWidget(provider, views);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="annotation">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">super</span>.onCreate();</span><br><span class="line">		timer = <span class="keyword">new</span> Timer();</span><br><span class="line">		<span class="comment">// task任务 delay延时执行 period 周期</span></span><br><span class="line">		timer.schedule(task, <span class="number">0</span>, <span class="number">500</span>);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="annotation">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> IBinder <span class="title">onBind</span><span class="params">(Intent intent)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="annotation">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">super</span>.onDestroy();</span><br><span class="line">		<span class="comment">// 取消任务</span></span><br><span class="line">		timer.cancel();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这样一个简单的桌面插件显示系统时间和复制号码到拨号盘的小程序就完成了。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/09/19/" itemprop="url">
                  怎样拒绝邻居想要蹭WiFi的请求
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-09-19T16:29:51+08:00" content="Sep 19 2013">
              Sep 19 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/随笔/" itemprop="url" rel="index">
                    <span itemprop="name">随笔</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/09/19/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/09/19/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>刚把wifi密码告诉了斜对面的哥们儿。现在来回答下这个问题。</p>
<p>在郑州被深深地伤害之后，彻底对郑州失望，就只身来南京了，7月份过来的。以前没来过南京，当初只是因为想赶紧逃离，比较讨厌北京，又不想去上海，广州也玩儿够了，觉得无趣，最后一冲动就跑来南京了。等到来了南京，发现原来南京还有个同学，着实帮我了不少；不过工作确定之后，我们就分开了，距离非常远。我来到了一个人也不认识的地方。租房的问题解决之后，感觉一切都蛮好，比想象中的顺利。只是觉得，有点孤单。</p>
<p>跟人合租的房子，房子挺大，不过是五个小居室，住的人挺多，一个客厅，房租很便宜（这是我最看重的）。平常早上上班离开家，锁上门；下班回到家，再把们一关，谁也不认识谁。一个人躺在床上，盯着天花板，说不出的孤独；刚去的日子，晚上还给家人朋友打电话或者打一盘DotA，后来慢慢的就不想再打了。想找个人说话，却没有。</p>
<p>直到一天早上，去洗漱，碰见斜对门的兄弟，突然觉得不说点什么，好像很尴尬。就异常别扭地挤出来个“早”。从那以后，貌似碰见的次数也越来越多了。斜对门的大哥跟老婆一起住，跟我一样，都是去年毕业，俩人大学谈恋爱四年，毕业之后立马就领证了。我刚来那段时间，兄弟在为工作的事忙活，现在是已经确定了要自己创业。刚毕业、刚结婚的小青年儿夫妻俩相濡以沫，日子过的不富裕，不过倒是有说不出的温馨。</p>
<p>一天晚上，下班之后去买了西瓜和方便面，前一天特意从易迅上买了个电热水器（不得不说易迅的物流实在是太给力了，上午下单，下午两点多就送到了），准备回家烧水吃泡面。回到家，面对一个大西瓜，突然发现，原来自己没有刀，没法切啊…怎么办？最后硬着头皮，敲小夫妻的门，借来了刀，切了西瓜，想把西瓜送给小夫妻俩，捧着切好的西瓜站在他们门口半天，不敢敲门。突然，门开了，看见小嫂子端着饺子…场面真有趣。最后，我用西瓜“换了”饺子。心里说不出的温暖。从那之后，我们就经常相互送好吃的；都是属于面对陌生人那种有点闷的人，所以也就是敲门，把东西往对方手里一送，转身就撤；不说话的。</p>
<p>昨天晚上，我给家里人打电话，说是中秋放假三天不回去了，本来打算十一回去，结果十一要加班，也就没法回去了。刚打完电话，有人敲门，开门一看，是斜对面的大哥。“兄弟，我看你这过节好像也是一个人，我叫了几个朋友，明天过来一起过节，你明天也跟我们一起过吧！”突然，我也不知道怎么回答，愣了有十几秒，尴尬地笑着，憋出来一句，“那就太谢谢了啊……”霎那间，暖流直窜脑门！今天夫妻俩做了菜，非常丰盛哦，有八个菜，我们几个吃吃玩玩，愉快地度过了这一天。整个席间，我都被一股股暖流冲击着！</p>
<p>刚收了摊子。去兄弟屋里坐了一会儿，聊天，发现他们屋里没有路由器，是网线直接插电脑上用的。他们夫妻俩都是教育行业的，对IT相关的基本一窍不通，我正对门的是俩小姑娘，由于我们住的屋子里在我去之前只有一条4M的宽带，网口在俩小姑娘屋里。我来了之后，又从外面拉了一条10M的宽带。两个小姑娘告诉小夫妻俩不能在他们屋里放路由器，而且不能从外面拉网线，夫妻俩就信了，还跟她们共同分担宽带费用，我瞬间明白了一切。不过没给他们夫妻俩说，我把自己的WiFi密码告诉了他们，然后把他们的笔记本设置了一下，做了个无线热点。</p>
<p>呀！写到这里，突然想起来，在一起这么长时间，还不知道他们名字和其他的任何联系方式呢…</p>
<p>一个人在外面，真心是不容易。每个人都是那么地平凡，自己的故事也同样发生在这个城市其他一百万人身上，但是与这么多善良的人萍水相逢，即使明天就要别离，孤单和伤感也会因为这暖心默默远去。谢谢你们，每一个人。一个WiFi密码，换来的也许是更多无法用金钱衡量的东西。</p>
<p>原文链接：<a href="http://www.zhihu.com/question/21661505/answer/18949069" target="_blank" rel="external">不熟悉的邻居来敲门问我的 Wi-Fi 密码，说只是平时用下上网，我该怎么回绝？</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/08/14/" itemprop="url">
                  Java1.5新特性
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-08-14T21:08:13+08:00" content="Aug 14 2013">
              Aug 14 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/08/14/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/08/14/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>“JDK1.5”（开发代号猛虎）的一个重要主题就是通过新增一些特性来简化开发,这些特性包括<strong>泛型,for-each 循环,自动装包/拆包,枚举,可变参数,静态导入</strong>.使用这些特性有助于我们编写更加清晰,精悍,安全的代码.</p>
<p>下面我们简单介绍一下这些新特性.</p>
<p>##<strong>泛型(Generic)</strong>##</p>
<p>C++通过模板技术可以指定集合的元素类型,而Java在1.5之前一直没有相对应的功能.一个集合可以放任何类型的对象,相应地从集合里面拿对象的时候我们也不得不对他们进行<strong>强制类型转换</strong>.”猛虎”引入了<strong>泛型</strong>,它允许指定集合里元素的类型,这样你可以得到强类型在编译时刻进行类型检查的好处.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;<span class="built_in">String</span>&gt; c = <span class="keyword">new</span> ArrayList();</span><br><span class="line">c.add(<span class="keyword">new</span> <span class="built_in">Date</span>());</span><br></pre></td></tr></table></figure>
<p>编译器会给出报错.</p>
<p>##<strong>For-Each循环</strong>##<br><em>For-Each</em>循环得加入简化了集合的遍历.假设我们要遍历一个集合对其中的元素进行一些处理.典型的代码为:</p>
<figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> processAll(<span class="type">Collection</span> c)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">Iterator</span> i=c.<span class="keyword">iterator</span>(); i.hasNext();)&#123;</span><br><span class="line">        <span class="type">MyClass</span> myObject = (<span class="type">MyClass</span>)i.next();</span><br><span class="line">        myObject.process();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用For-Each循环,我们可以把代码改写成:</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">processAll</span><span class="params">(Collection&lt;MyClass&gt; c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (MyClass myObject :c)</span><br><span class="line">    myObject.process();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这段代码要比上面清晰许多,并且<strong>避免了强制类型转换</strong>.</p>
<p>##<strong>自动装箱/拆箱(Autoboxing/unboxing)</strong>##</p>
<p>自动装箱/拆箱大大方便了<strong>基本类型数据和它们包装类</strong>地使用.</p>
<ol>
<li><strong>自动装箱</strong>：基本类型自动转为包装类.(int &gt;&gt; Integer)</li>
<li><strong>自动拆箱</strong>：包装类自动转为基本类型.(Integer &gt;&gt; int)</li>
</ol>
<p>在JDK1.5之前,我们总是对集合不能存放基本类型而耿耿于怀,现在自动转换机制解决了我们的问题.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">3</span>;</span><br><span class="line">Collection c = <span class="keyword">new</span> ArrayList();</span><br><span class="line">c.add(a);<span class="comment">//自动装箱,int转换成Integer.</span></span><br><span class="line">Integer b = <span class="keyword">new</span> Integer(<span class="number">2</span>);</span><br><span class="line">c.add(b + <span class="number">2</span>); <span class="comment">//自动拆箱,Integer转换成int</span></span><br></pre></td></tr></table></figure>
<p>这里Integer先自动转换为int进行加法运算,然后int再次转换为Integer.</p>
<p>##<strong>枚举(Enums)</strong>##</p>
<p>JDK1.5加入了一个全新类型的“类”－<strong>枚举</strong>类型.为此JDK1.5引入了一个新关键字<em>enmu</em>.我们可以这样来定义一个枚举类型.</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">enum</span> <span class="title">Color</span>&#123;</span></span><br><span class="line">    <span class="constant">Red</span>,</span><br><span class="line">    <span class="constant">White</span>,</span><br><span class="line">    <span class="constant">Blue</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后可以这样来使用Color myColor = Color.Red.</p>
<p>枚举类型还提供了两个有用的静态方法<em>values()</em>和<em>valueOf()</em>. 我们可以很方便地使用它们,例如</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (<span class="attribute">Color</span> c <span class="value">: Color.<span class="function">values</span>())&#123;</span><br><span class="line">    System.out.<span class="function">println</span>(c);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>##<strong>可变参数(Varargs)</strong>##</p>
<p>可变参数使程序员可以声明一个接受<strong>可变数目参数</strong>的方法.注意,可变参数必须是方法声明中的<strong>最后一个参数</strong>.假设我们要写一个简单的方法打印一些对象:</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">util.<span class="command">write</span>(obj1);</span><br><span class="line">util.<span class="command">write</span>(obj1,obj2);</span><br><span class="line">util.<span class="command">write</span>(obj1,obj2,obj3);</span><br></pre></td></tr></table></figure>
<p>在JDK1.5之前,我们可以用重载来实现,但是这样就需要写很多的重载方法,显得不是很有效.如果使用可变参数的话我们只需要一个方法就行了</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> write(<span class="keyword">Object</span>... objs) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">Object</span> obj: objs)&#123;</span><br><span class="line">        System.out.<span class="built_in">println</span>(obj);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在引入可变参数以后，Java的反射包也更加方便使用了。对于c.getMethod(“test”, new Object[0]).invoke(c.newInstance(), new Object[0]))，现在我们可以这样写了c.getMethod(“test”).invoke(c.newInstance())，这样的代码比原来清楚了很多.</p>
<p>##<strong>静态导入(Static Imports)</strong>##</p>
<p>要使用用静态成员（方法和变量）我们必须给出提供这个方法的类.使用静态导入可以使被导入类的所有静态变量和静态方法在当前类直接可见,使用这些静态成员无需再给出他们的类名.</p>
<figure class="highlight monkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"><span class="keyword">import</span> static java.lang.Math.*;</span></span><br><span class="line">……</span><br><span class="line">r = <span class="built_in">sin</span>(<span class="built_in">PI</span> * <span class="number">2</span>); //无需再写r = Math.<span class="built_in">sin</span>(Math.<span class="built_in">PI</span>);</span><br></pre></td></tr></table></figure>
<p>不过,过度使用这个特性也会一定程度上降低代码地可读性.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/06/07/" itemprop="url">
                  使用cwRsync同步静态资源
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-06-07T17:43:57+08:00" content="Jun 7 2013">
              Jun 7 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Server/" itemprop="url" rel="index">
                    <span itemprop="name">Server</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/06/07/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/06/07/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近一直在加班，加班，加班……前几天某个风雨交加的夜里，辗转反侧实在睡不着，粗略算了一下，四月份休息了两天半，五月份休息了三天半，每天晚上基本上也都是九点之后才到家，有时候还会通宵加班。一直以来我都没细致地去想过自己现在为什么这么拼命，现在想来，突然发现自己不知不觉地捡起来了曾经戒掉的理想，发现自己有意愿好像也有能力为曾经的不甘心扬眉吐气，发现自己为了证明自己的价值给人看对自己是如此地重要！因为如此，我才愿意在自己不是太在意金钱的年纪里忍受如此的落差，虽然看上去很大程度上是在为别人活，但这样我挺满足的。</p>
<p>虽说是这样，可心里却并不快乐。今天有同事问我是不是觉得很充实，我想了一下，迸出来一句：我觉得很累……然后就真的好像虚了很多，也确实想放松放松了……扯了这么多，偏题严重了，写博客的频繁程度，其实很大程度上是与自己的懒惰程度成反比的，平时说自己比较忙，没时间写，其实是自欺欺人。昨天刚做了个静态资源的同步，今天先记录一下。</p>
<p>cwRsync是一个跨平台的开源文件同步（备份）软件，简单好用。我的环境，Server端和Client端都是Windows 2008 Server R2，服务端IP是10.0.0.4，客户端IP是10.0.0.2。</p>
<p>服务端和客户端软件在官网都可以下载到，直接双击也就安装完成了，非常简单。需要指出的一点是安装Server端的时候，有一个创建用户的对话框，因为我的环境是2008R2，所以设置的密码复杂度一定要符合2008R2的标准，否则服务安装不上，而且没有任何提示。我创建的用户名是FileSync，密码是1Qaz2Wsx.</p>
<p><strong>Server：</strong></p>
<p>先说服务端的配置，主要就是rsyncd.conf这个配置文件，内容很容易理解，也就不一一解释了，我要同步的是D盘的image和Upload两个文件夹；</p>
<p>1、我直接贴一下自己的配置文件内容吧，如下：</p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">usechroot =false</span><br><span class="line"></span><br><span class="line">strict modes =false</span><br><span class="line"></span><br><span class="line">hosts allow = *</span><br><span class="line"></span><br><span class="line">log file = rsyncd.log</span><br><span class="line"></span><br><span class="line">pid file = rsyncd.pid</span><br><span class="line"></span><br><span class="line">port =<span class="number">800</span></span><br><span class="line"></span><br><span class="line">max connections =<span class="number">4</span></span><br><span class="line"></span><br><span class="line">UID=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">GID=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"># Module definitions</span><br><span class="line"></span><br><span class="line"># Remember cygwin naming conventions : c:\work becomes /cygwin/c/work</span><br><span class="line"></span><br><span class="line">#</span><br><span class="line"></span><br><span class="line">#[test]</span><br><span class="line"></span><br><span class="line">#<span class="built_in">path</span> = /cygdrive/c/work</span><br><span class="line"></span><br><span class="line">#read only =false</span><br><span class="line"></span><br><span class="line">#transfer logging = yes</span><br><span class="line"></span><br><span class="line">[image]</span><br><span class="line"></span><br><span class="line"><span class="built_in">path</span> = /cygdrive/d/image</span><br><span class="line"></span><br><span class="line">read only =false</span><br><span class="line"></span><br><span class="line">transfer logging = yes</span><br><span class="line"></span><br><span class="line">lock file = rsyncd.lock</span><br><span class="line"></span><br><span class="line">auth users =FileSync</span><br><span class="line"></span><br><span class="line">secrets file = etc/rsyncd.secrets</span><br><span class="line"></span><br><span class="line">[Upload]</span><br><span class="line"></span><br><span class="line"><span class="built_in">path</span> = /cygdrive/d/Upload</span><br><span class="line"></span><br><span class="line">read only =false</span><br><span class="line"></span><br><span class="line">transfer logging = yes</span><br><span class="line"></span><br><span class="line">lock file = rsyncd.lock</span><br><span class="line"></span><br><span class="line">auth users =FileSync</span><br><span class="line"></span><br><span class="line">secrets file = etc/rsyncd.secrets</span><br></pre></td></tr></table></figure>
<p>2、创建密码文件rsyncd.secrets并放入etc文件夹，格式为“user:passwd”，如“FileSync:1Qaz2Wsx”；</p>
<p>3、修改防火墙配置，将配置文件里配置的800端口打开；</p>
<p>4、修改要同步的D盘的image和Upload两个文件夹的权限，添加用户FileSync对两个文件夹为完全控制；</p>
<p>至此，服务端配置完毕。</p>
<p><strong>Client：</strong> 客户端的配置更简单，一个脚本就可以完成全部的同步任务。</p>
<p>1、新建脚本rsync.bat，我的脚本内容如下：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@echo</span> off</span><br><span class="line">echo.</span><br><span class="line">echo 开始同步数据，请稍等...</span><br><span class="line">echo.</span><br><span class="line">cd <span class="attribute">C</span>:\Program Files (x86)\cwRsync\bin</span><br><span class="line">rsync -vzrtopg --port=<span class="number">800</span> --progress --delete FileSync<span class="variable">@10</span>.<span class="number">0.0</span>.<span class="number">4</span>::image /cygdrive/d/image &lt; passwd.txt</span><br><span class="line">rsync -vzrtopg --port=<span class="number">800</span> --progress --delete FileSync<span class="variable">@10</span>.<span class="number">0.0</span>.<span class="number">4</span>::Upload /cygdrive/d/Upload &lt; passwd.txt</span><br><span class="line">echo.</span><br><span class="line">echo 数据同步完成</span><br><span class="line">echo.</span><br></pre></td></tr></table></figure>
<p>2、新建密码文件passwd.txt，输入密码1Qaz2Wsx，将rsync.bat和passwd.txt放置于同一目录下；</p>
<p>3、开启服务端的RsyncServer服务，执行脚本就可以完成同步任务，如果需要定时同步，添加Windows计划任务即可。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/04/29/" itemprop="url">
                  Linux下安装配置nginx+php+mysql环境
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-04-29T16:03:24+08:00" content="Apr 29 2013">
              Apr 29 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/04/29/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/04/29/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>由于最近比较忙，写的比较简略，步骤不够详细，不过基本按着这步骤顺下来，也不会出什么问题，先记录下来，以后有空再丰富下内容。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y update&#10;&#10;yum install gcc pcre pcre-devel zlib zlib-devel openssl openssl-devel //&#23433;&#35013;&#20381;&#36182;&#21253;&#10;&#10;/usr/sbin/groupadd nginx&#10;&#10;/usr/sbin/useradd -g nginx -M nginx&#10;&#10;mkdir -p /var/tmp/nginx/client //&#21019;&#24314;&#29992;&#25143;&#10;&#10;yum -y install php mysql mysql-server mysql-devel php-mysql php-cgi php-mbstring php-gd php-fastcgi //&#23433;&#35013;php&#21644;mysql&#10;&#10;rpm -ivh http://download.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm&#10;&#10;//&#21551;&#29992;redhat&#38468;&#20214;&#21253;&#10;&#10;yum install nginx //&#23433;&#35013;nginx&#10;&#10;chkconfig nginx on //&#35774;&#32622;&#24320;&#26426;&#21551;&#21160;&#10;&#10;yum install spawn-fcgi //&#23433;&#35013;spawn-fcgi&#26469;&#36816;&#34892;php-cgi&#10;&#10;wget http://bash.cyberciti.biz/dl/419.sh.zip&#10;&#10;unzip 419.sh.zip&#10;&#10;mv 419.sh /etc/init.d/php_cgi&#10;&#10;chmod +x /etc/init.d/php_cgi // &#33719;&#21462;spawn-fcgi &#30340;&#21551;&#21160;&#33050;&#26412;&#10;&#10;service php_cgi start //&#21551;&#21160;php_cgi&#10;&#10;location ~ \.php$ &#123;&#10;&#10;root /var/www; //&#32593;&#31449;&#26681;&#30446;&#24405;&#10;&#10;fastcgi_pass 127.0.0.1:9000;&#10;&#10;fastcgi_index index.php;&#10;&#10;fastcgi_param SCRIPT_FILENAME /var/www$fastcgi_script_name;&#10;&#10;include fastcgi_params;&#10;&#10;&#125; //&#37197;&#32622;nginx.conf&#10;&#10;&#65288;root&#25351;&#23450;&#32593;&#31449;&#26681;&#30446;&#24405;&#65307;fastcgi_param&#25351;&#23450;&#25918;&#32622;PHP&#21160;&#24577;&#31243;&#24207;&#30340;&#20027;&#30446;&#24405;&#65292;&#21363;$fastcgi_script_name&#21069;&#38754;&#30340;&#36335;&#24452;&#65289;&#10;&#10;yum install phpmyadmin //&#23433;&#35013;phpmyadmin&#10;&#10;chmod +x /var/lib/php/session //&#20462;&#25913;/var/lib/php/session&#21644;php_cgi&#26435;&#38480;&#19968;&#33268;&#10;&#10;chown -R nginx.nginx /var/lib/php/session</span><br></pre></td></tr></table></figure>
<p>将网站目录放在/var/www目录下，访问<a href="http://IP/网站目录即可。" target="_blank" rel="external">http://IP/网站目录即可。</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/04/11/" itemprop="url">
                  Linux下拷贝MySql数据库文件备份数据库
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-04-11T18:05:20+08:00" content="Apr 11 2013">
              Apr 11 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/DataBase/" itemprop="url" rel="index">
                    <span itemprop="name">DataBase</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/04/11/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/04/11/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>大致上MySql数据库备份可以采用两种方式：一种就是直接导出sql语句或者易于导入的其他格式的sql存储文件，使用sql语句或者一些可视化客户端导出，这种方法非常简单，无需赘述；另一种方法就是拷贝出数据库文件，再将数据库文件转换成sql文件，这篇文章就介绍一下这种方法。</p>
<p>①查找数据库文件存放位置，MySql文件的后缀有三种形式<em>.MYD、</em>.MYI、*.frm；<br><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">find</span> / -<span class="built_in">name</span> *.MYD</span><br></pre></td></tr></table></figure></p>
<p>②进入数据库存储文件目录；<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd <span class="regexp">/opt/</span>lanmp<span class="regexp">/mysql-5.1.63/</span>win<span class="regexp">/data/</span></span><br></pre></td></tr></table></figure></p>
<p>③使用copy命令把所有数据拷出去；</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">copy</span> <span class="bash">mysql /home</span></span><br></pre></td></tr></table></figure>
<p>④此时只需将这些数据库文件转换成sql文件，这也是这篇文章里我要讲的重点，如果需要的时候再将sql文件用命令导入即可；</p>
<p>⑤新建一个数据库命名为mysqlbak，将刚才拷出来的文件夹拷入新数据库的data文件夹；<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find / -name mysqlbak</span><br><span class="line">cd <span class="regexp">/home/</span>mysql</span><br><span class="line">copy * <span class="regexp">/www/</span>wdlinux<span class="regexp">/mysql-5.1.63/</span>var<span class="regexp">/mysqlbak/</span></span><br></pre></td></tr></table></figure></p>
<p>⑥此时就已经可以看到新数据库mysqlbak里的数据了，跟原数据库mysql里的数据是一样的；</p>
<p>⑦使用命令导出数据库文件即可。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -<span class="tag">p</span> mysqlbak /home/mysql.sql</span><br></pre></td></tr></table></figure>
<p>⑧这home文件夹下的文件mysql.sql文件就是易导入的数据库文件。需要注意的是所有的操作都必须在操作系统下用命令完成，而不提倡使用工具。因为在实际操作过程中，我们经常会遇到数据库里的数据库文件版本和数据库版本不一致，或者新旧数据库版本不一致的问题，再或者数据服务器版本与客户端工具不兼容等意想不到的问题，如果是这种情况，使用工具导出一般会报“1577:Cannot proceed because system tables used by Event Scheduler were found damaged at server start”的错误。说到这里，其实本文也提供了一种打开mysql数据库文件的方法，如果现在只有一堆<em>.MYD、</em>.MYI、*.frm文件，执行步骤⑤到步骤⑧即可。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/04/01/" itemprop="url">
                  CentOS下SVN服务器的搭建使用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-04-01T15:20:09+08:00" content="Apr 1 2013">
              Apr 1 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/04/01/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/04/01/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>SVN作为新一代代码版本管理工具，有很多优点，管理方便，逻辑明确，安全性高，代码一致性高。SVN数据存储有两种方式，<strong>BDB（事务安全表类型）</strong>和<strong>FSFS（一种不需要数据库的存储系统）</strong>，为了避免在服务器连接中断时锁住数据，FSFS是一种更安全也更多人使用的方式。SVN的运行方式也有两种，一种是<strong>独立服务器</strong>，另一种是<strong>借助apache服务</strong>，各有利弊，下面就介绍一下这两种方式各自的部署步骤。</p>
<p>##<strong>作为独立服务器运行：</strong></p>
<p>①安装svn<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install</span> svn</span><br></pre></td></tr></table></figure></p>
<p>②创建版本库<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /svn/<span class="keyword">project</span>    <span class="comment">#创建版本库所在文件夹</span></span><br><span class="line">svnadmin create--fs-type fsfs /svn/<span class="keyword">project</span>/first   <span class="comment">#创建版本库，如果需要使用bdb方式存储，则将fsfs改成bdb即可</span></span><br></pre></td></tr></table></figure></p>
<p>③初始化版本库，即导入文件到版本库中<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">svn import /home/software <span class="symbol">file:</span>/<span class="regexp">//svn</span><span class="regexp">/project/first</span>--message <span class="string">"初始化版本"</span>  <span class="comment">#将home文件夹的文件导入版本库</span></span><br><span class="line">svn list --verbose <span class="symbol">file:</span>/<span class="regexp">//svn</span><span class="regexp">/project/first</span> <span class="comment">#查看导入的文件</span></span><br></pre></td></tr></table></figure></p>
<p>④启动svn服务，svn服务默认端口为3690，可以使用“netstat -ntlp”命令查看服务启动是否成功<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svnserve -d -r <span class="regexp">/svn/</span><span class="keyword">project</span><span class="regexp">/first</span></span><br></pre></td></tr></table></figure></p>
<p>⑤修改策略控制文件，vi authz，如果以后要添加用户，就将用户名加在相应的用户组（admin或者user）后面即可<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">### This file is an example authorization file for svnserve.</span></span><br><span class="line"><span class="preprocessor">### Its format is identical to that of mod_authz_svn authorization</span></span><br><span class="line"><span class="preprocessor">### files.</span></span><br><span class="line"><span class="preprocessor">### As shown below each section defines authorizations for the path and</span></span><br><span class="line"><span class="preprocessor">### (optional) repository specified by the sectionname.</span></span><br><span class="line"><span class="preprocessor">### The authorizations follow. An authorization line can refer to:</span></span><br><span class="line"><span class="preprocessor">### - a single user,</span></span><br><span class="line"><span class="preprocessor">### - a groupof users defined in a special [groups] section,</span></span><br><span class="line"><span class="preprocessor">### - an alias defined in a special [aliases] section,</span></span><br><span class="line"><span class="preprocessor">### - all authenticated users, using the '$authenticated' token,</span></span><br><span class="line"><span class="preprocessor">### - only anonymous users, using the '$anonymous' token,</span></span><br><span class="line"><span class="preprocessor">### - anyone, using the '*' wildcard.</span></span><br><span class="line"><span class="preprocessor">###</span></span><br><span class="line"><span class="preprocessor">### A match can be inverted by prefixing the rulewith'~'. Rules can</span></span><br><span class="line"><span class="preprocessor">### grantread ('r') access, read-write ('rw') access, orno access</span></span><br><span class="line"><span class="preprocessor">### ('').</span></span><br><span class="line">[aliases]</span><br><span class="line"><span class="preprocessor"># joe = /C=XZ/ST=Dessert/L=Snake City/O=Snake Oil, Ltd./OU=Research Institute/CN=Joe Average</span></span><br><span class="line">[groups]</span><br><span class="line"><span class="preprocessor"># harry_and_sally = harry,sally</span></span><br><span class="line"><span class="preprocessor"># harry_sally_and_joe = harry,sally,&amp;joe</span></span><br><span class="line">admin=first,second,third       #用户组admin包含的成员</span><br><span class="line">user=anyone             #用户组user包含的成员</span><br><span class="line"><span class="preprocessor"># [/foo/bar]</span></span><br><span class="line"><span class="preprocessor"># harry = rw</span></span><br><span class="line"><span class="preprocessor"># &amp;joe = r</span></span><br><span class="line"><span class="preprocessor"># * =</span></span><br><span class="line"><span class="preprocessor"># [repository:/baz/fuz]</span></span><br><span class="line"><span class="preprocessor"># @harry_and_sally = rw</span></span><br><span class="line"><span class="preprocessor"># * = r</span></span><br><span class="line">[/]</span><br><span class="line">@admin=rw             #用户组admin内成员拥有读写权限</span><br><span class="line">@user=r              #用户组user内成员拥有读权限</span><br></pre></td></tr></table></figure></p>
<p>⑥添加svn访问用户，vi passwd，为authz里分配的用户设置密码，等号左边为用户名，等号右边是密码；<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### This file is an example password file for svnserve.</span></span><br><span class="line"><span class="comment">### Its format is similar to that of svnserve.conf. As shown in the</span></span><br><span class="line"><span class="comment">### example below it contains one section labelled [users].</span></span><br><span class="line"><span class="comment">### The nameandpasswordfor each user follow, one account per line.</span></span><br><span class="line">[users]</span><br><span class="line"><span class="comment"># harry = harryssecret</span></span><br><span class="line"><span class="comment"># sally = sallyssecret</span></span><br><span class="line"><span class="keyword">first</span>=<span class="keyword">first</span></span><br><span class="line"><span class="keyword">second</span>=<span class="keyword">second</span></span><br><span class="line"><span class="keyword">third</span>=<span class="keyword">third</span></span><br><span class="line">anyone=anyone</span><br></pre></td></tr></table></figure></p>
<p>⑦修改svn读取的权限策略文件<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">vi</span> /svn/project/<span class="keyword">first</span>/<span class="keyword">conf</span>/svnserve.<span class="keyword">conf</span>：</span><br></pre></td></tr></table></figure></p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">anon-access = <span class="constant">none</span>  <span class="comment">#不允许匿名用户读写</span></span><br><span class="line">auth-access = <span class="built_in">write</span></span><br><span class="line">password-db = passwd <span class="comment">#svn读取的passwd文件</span></span><br><span class="line">authz-db = authz   <span class="comment">#svn读取的权限控制文件</span></span><br></pre></td></tr></table></figure>
<p>⑧安装svn客户端，就可以使用客户端通过如下的url就可以访问了<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">svn:</span>/<span class="regexp">/IP地址/svn</span><span class="regexp">/project/first</span></span><br></pre></td></tr></table></figure></p>
<p>##<strong>借助apache服务器，通过web端访问svn</strong></p>
<p>①给apache服务器安装两个svn插件，这两个插件同样可以使用yum安装<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install</span> mod_dav_svn   <span class="comment">#使subversion与dav模块通信的功能</span></span><br><span class="line">yum <span class="keyword">install</span> mod_authz_svn  <span class="comment">#实现权限控制功能</span></span><br></pre></td></tr></table></figure></p>
<p>②使用命令“httpd -M”可以查看是否加载这两个模块，如加载，则有如下回应：<br><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">Loaded Modules:</span><br><span class="line"> core_module (<span class="keyword">static</span>)</span><br><span class="line"> mpm_prefork_module (<span class="keyword">static</span>)</span><br><span class="line"> http_module (<span class="keyword">static</span>)</span><br><span class="line"> so_module (<span class="keyword">static</span>)</span><br><span class="line"> auth_basic_module (shared)</span><br><span class="line"> auth_digest_module (shared)</span><br><span class="line"> authn_file_module (shared)</span><br><span class="line"> authn_alias_module (shared)</span><br><span class="line"> authn_anon_module (shared)</span><br><span class="line"> authn_dbm_module (shared)</span><br><span class="line"> authn_default_module (shared)</span><br><span class="line"> authz_host_module (shared)</span><br><span class="line"> authz_user_module (shared)</span><br><span class="line"> authz_owner_module (shared)</span><br><span class="line"> authz_groupfile_module (shared)</span><br><span class="line"> authz_dbm_module (shared)</span><br><span class="line"> authz_default_module (shared)</span><br><span class="line"> ldap_module (shared)</span><br><span class="line"> authnz_ldap_module (shared)</span><br><span class="line"> include_module (shared)</span><br><span class="line"> log_config_module (shared)</span><br><span class="line"> logio_module (shared)</span><br><span class="line"> env_module (shared)</span><br><span class="line"> ext_filter_module (shared)</span><br><span class="line"> mime_magic_module (shared)</span><br><span class="line"> expires_module (shared)</span><br><span class="line"> deflate_module (shared)</span><br><span class="line"> headers_module (shared)</span><br><span class="line"> usertrack_module (shared)</span><br><span class="line"> setenvif_module (shared)</span><br><span class="line"> mime_module (shared)</span><br><span class="line"> dav_module (shared)</span><br><span class="line"> status_module (shared)</span><br><span class="line"> autoindex_module (shared)</span><br><span class="line"> info_module (shared)</span><br><span class="line"> dav_fs_module (shared)</span><br><span class="line"> vhost_alias_module (shared)</span><br><span class="line"> negotiation_module (shared)</span><br><span class="line"> dir_module (shared)</span><br><span class="line"> actions_module (shared)</span><br><span class="line"> speling_module (shared)</span><br><span class="line"> userdir_module (shared)</span><br><span class="line"> alias_module (shared)</span><br><span class="line"> substitute_module (shared)</span><br><span class="line"> rewrite_module (shared)</span><br><span class="line"> proxy_module (shared)</span><br><span class="line"> proxy_balancer_module (shared)</span><br><span class="line"> proxy_ftp_module (shared)</span><br><span class="line"> proxy_http_module (shared)</span><br><span class="line"> proxy_ajp_module (shared)</span><br><span class="line"> proxy_connect_module (shared)</span><br><span class="line"> cache_module (shared)</span><br><span class="line"> suexec_module (shared)</span><br><span class="line"> disk_cache_module (shared)</span><br><span class="line"> cgi_module (shared)</span><br><span class="line"> version_module (shared)</span><br><span class="line"> authz_ldap_module (shared)</span><br><span class="line"> dav_svn_module (shared)</span><br><span class="line"> authz_svn_module (shared)</span><br><span class="line">Syntax OK</span><br></pre></td></tr></table></figure></p>
<p>③编辑apache服务配置文件vi /etc/httpd/conf/httpd.conf，加入下面几行：<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;Location /svn&gt;</span><br><span class="line">DAV svn</span><br><span class="line">SVNPath /svn/project/first</span><br><span class="line">AuthzSVNAccessFile /etc/httpd/<span class="keyword">conf</span>.<span class="keyword">d</span>/authz #apache服务器读取的权限策略文件</span><br><span class="line">AuthType Basic</span><br><span class="line">AuthName <span class="string">"Project"</span></span><br><span class="line">AuthUserFile /etc/httpd/<span class="keyword">conf</span>.<span class="keyword">d</span>/passwd  #apache服务器读取的密码存储文件</span><br></pre></td></tr></table></figure></p>
<p>④编辑文件authz放在文件夹/etc/httpd/conf.d中，文件格式同文章上面的那个authz文件，编辑文件passwd放在文件夹/etc/httpd/conf.d中，使用如下命令生成用户名和密码<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">htpasswd -c <span class="regexp">/svn/</span><span class="keyword">project</span><span class="regexp">/first admin  #命令为htpasswd，-c为参数，/</span>svn<span class="regexp">/project/</span>first为访问的版本库，admin为用户名</span><br></pre></td></tr></table></figure></p>
<p>然后重复输入你想设置的密码就可以自动存储在文件passwd中，默认为md5存储。</p>
<p>⑤重启apache服务，就可以在网页端使用刚才设置的用户名密码访问了，网址为<a href="http://IP地址:端口/svn" target="_blank" rel="external">http://IP地址:端口/svn</a></p>
<p>##<strong>配置多项目创建维护:</strong></p>
<p>其实过程也比较简单，只需要在原来的基础上修改一点信息就可以了。</p>
<p>举个例子，比如有first和second两个项目,要实现多项目的启动管理，只需要修改对应项目配置文件authz的管理路径即可，如下：</p>
<p>###<em>单项目：</em><br><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[/]</span><br><span class="line">  <span class="annotation">@admin</span>=rw</span><br><span class="line">  <span class="annotation">@user</span>=r</span><br></pre></td></tr></table></figure></p>
<p>启动：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svnserve -d -r <span class="regexp">/svn/</span><span class="keyword">project</span><span class="regexp">/first</span></span><br></pre></td></tr></table></figure></p>
<p>或者<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svnserve -d -r <span class="regexp">/svn/</span><span class="keyword">project</span><span class="regexp">/second</span></span><br></pre></td></tr></table></figure></p>
<p>无法同时启动多个项目，因此也就无法同事访问多个项目；</p>
<p>###<em>多项目：</em><br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">first:</span>/]</span><br><span class="line"><span class="annotation">@admin</span>=rw</span><br><span class="line"><span class="annotation">@user</span>=r</span><br><span class="line">[<span class="string">second:</span>/]</span><br><span class="line"><span class="annotation">@admin</span>=rw</span><br><span class="line"><span class="annotation">@user</span>=r</span><br></pre></td></tr></table></figure></p>
<p>启动：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svnserve -d -r <span class="regexp">/svn/</span><span class="keyword">project</span><span class="regexp">/</span></span><br></pre></td></tr></table></figure></p>
<p>这样就可以启动所有project下的项目了。</p>
<p>很容易理解，但项目里的“/”代表项目根目录，可以使这样“/svn/project/first”或者“/svn/project/second”，多项目里的“/”代表“/svn/project”，在此基础上加上“first:”或者“second：”就切到对应项目里了。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/03/20/" itemprop="url">
                  RedHat和CentOS使用本地yum源配置
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-03-20T11:38:12+08:00" content="Mar 20 2013">
              Mar 20 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/03/20/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/20/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>使用yum命令安装所需的软件，如果设备网络状况很好，当然也没必要去配置本地yum源，直接使用命令“yum install + 软件名字”即可。</p>
<p>如果由于一些原因，无法使用网络或者网络状况不好，使用本地yum源会很方便。</p>
<p>RedHat和CentOS的操作步骤基本一致，略有不同。</p>
<p>1、首先介绍一下RedHat中yum源的配置：</p>
<p>①挂载镜像：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir <span class="regexp">/mnt/</span>cdrom </span><br><span class="line">cd <span class="regexp">/mnt/</span>cdrom </span><br><span class="line">mount <span class="regexp">/dev/</span>cdrom <span class="regexp">/mnt/</span>cdrom</span><br></pre></td></tr></table></figure></p>
<p>②修改配置文件：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/yum<span class="class">.repos</span><span class="class">.d</span></span><br></pre></td></tr></table></figure></p>
<p>③ls查看文件，使用mv命令将列出的文件都备份一下，格式如下：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv RedHat-Base<span class="class">.repo</span> RedHat-Base<span class="class">.repo</span><span class="class">.bak</span></span><br></pre></td></tr></table></figure></p>
<p>④新建yum源配置文件：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">vi</span> <span class="tag">RedHat</span><span class="class">.repo</span></span><br></pre></td></tr></table></figure></p>
<p>⑤具体配置文件内容如下：<br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">[Server] </span><br><span class="line"></span><br><span class="line"><span class="constant">name</span>=Server </span><br><span class="line"></span><br><span class="line"><span class="constant">baseurl</span>=file:///mnt/cdrom/Server </span><br><span class="line"></span><br><span class="line"><span class="constant">gpgcheck</span>=0 </span><br><span class="line"></span><br><span class="line"><span class="constant">enable</span> =1 </span><br><span class="line"></span><br><span class="line">[VT] name=VT </span><br><span class="line"></span><br><span class="line"><span class="constant">baseurl</span>=file:///mnt/cdrom/VT </span><br><span class="line"></span><br><span class="line"><span class="constant">gpgcheck</span>=0 </span><br><span class="line"></span><br><span class="line"><span class="constant">enable</span> =1 </span><br><span class="line"></span><br><span class="line">[Cluster] </span><br><span class="line"></span><br><span class="line"><span class="constant">name</span>=Cluster </span><br><span class="line"></span><br><span class="line"><span class="constant">baseurl</span>=file:///mnt/cdrom/Cluster </span><br><span class="line"></span><br><span class="line"><span class="constant">gpgcheck</span>=0 </span><br><span class="line"></span><br><span class="line"><span class="constant">enable</span> =1 </span><br><span class="line"></span><br><span class="line">[ClusterStorage] </span><br><span class="line"></span><br><span class="line"><span class="constant">name</span>=ClusterStorage </span><br><span class="line"></span><br><span class="line"><span class="constant">baseurl</span>=file:///mnt/cdrom/ClusterStorage </span><br><span class="line"></span><br><span class="line"><span class="constant">gpgcheck</span>=0 </span><br><span class="line"></span><br><span class="line"><span class="constant">enable</span> =1</span><br></pre></td></tr></table></figure></p>
<p>2、CentOS本地yum源配置前面的步骤跟RedHat都一样，只是配置文件内容比RedHat要少一下，如下：<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">[CentOS]</span> </span><br><span class="line"></span><br><span class="line"><span class="setting">name=<span class="value">CentOS </span></span></span><br><span class="line"></span><br><span class="line"><span class="setting">baseurl=<span class="value">file:///mnt/cdrom </span></span></span><br><span class="line"></span><br><span class="line"><span class="setting">gpgcheck=<span class="value"><span class="number">0</span> </span></span></span><br><span class="line"></span><br><span class="line"><span class="setting">enable=<span class="value"><span class="number">1</span></span></span></span><br></pre></td></tr></table></figure></p>
<p>至此，就可以直接使用“yum install + 软件名字”命令安装镜像里存在的软件包了。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/02/01/" itemprop="url">
                  ListView控件的使用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-02-01T22:16:41+08:00" content="Feb 1 2013">
              Feb 1 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/02/01/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/02/01/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ListView是一个用于<strong>列表显示数据</strong>的高级控件。</p>
<p>使用ListView控件的前提条件是每个条目都非常类似。</p>
<p>使用ListView必须要有适配器，除了可以自定义适配器，常用的适配器还有<strong>ArrayAdapter（数组适配器）和SimpleAdapter（简单适配器）</strong>，这些适配器都是继承了<strong>BaseAdapter</strong>，实现BaseAdapter中的getCount()，getItem(int position)，getItemId(int position)，getView(int position, View convertView, ViewGroup parent)这四个方法。</p>
<p>##ArrayAdapter的使用##</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组适配器</span></span><br><span class="line"><span class="built_in">String</span>[] objects = <span class="keyword">new</span> <span class="built_in">String</span>[]&#123;<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>,<span class="string">"d"</span>,<span class="string">"e"</span>,<span class="string">"f"</span>,<span class="string">"g"</span>,<span class="string">"h"</span>,<span class="string">"i"</span>&#125;;</span><br><span class="line">ListView lv = (ListView) findViewById(R.id.lv);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ArrayAdapter只能显示文本控件 并且只能是一个文本控件</span></span><br><span class="line">ArrayAdapter&lt;<span class="built_in">String</span>&gt; adapter = <span class="keyword">new</span> ArrayAdapter&lt;<span class="built_in">String</span>&gt;(<span class="keyword">this</span>,<span class="comment">//上下文</span></span><br><span class="line">		android.R.layout.simple_list_item_1,<span class="comment">//条目的布局   android系统底层会有一些简单的布局 引用android底层的资源</span></span><br><span class="line">		android.R.id.text1,<span class="comment">//条目里面的控件的id</span></span><br><span class="line">		objects);<span class="comment">//要显示的数据</span></span><br><span class="line">lv.setAdapter(adapter);</span><br><span class="line"><span class="comment">//如果以后开发看到简单的文字列表显示那么使用ArrayAdapter是最方便</span></span><br></pre></td></tr></table></figure>
<p>##SimpleAdapter的使用##</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//简单适配器</span></span><br><span class="line"><span class="keyword">String</span>[] objects = <span class="keyword">new</span> <span class="keyword">String</span>[]&#123;<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>,<span class="string">"d"</span>,<span class="string">"e"</span>,<span class="string">"f"</span>,<span class="string">"g"</span>,<span class="string">"h"</span>,<span class="string">"i"</span>&#125;;</span><br><span class="line">ListView lv = (ListView) findViewById(R.id.lv);</span><br><span class="line"></span><br><span class="line"><span class="keyword">String</span>[] from = <span class="keyword">new</span> <span class="keyword">String</span>[]&#123;<span class="string">"name"</span>,<span class="string">"age"</span>&#125;;</span><br><span class="line"><span class="built_in">int</span>[] to = <span class="keyword">new</span> <span class="built_in">int</span>[]&#123;android.R.id.text1,android.R.id.text2&#125;;</span><br><span class="line"><span class="keyword">final</span> SimpleAdapter adapter = <span class="keyword">new</span> SimpleAdapter(<span class="keyword">this</span>,<span class="comment">//上下文</span></span><br><span class="line">		data,<span class="comment">//数据 List&lt;? extends Map&lt;String, ?&gt;&gt; data</span></span><br><span class="line">		android.R.layout.simple_list_item_2,<span class="comment">//条目的布局文件</span></span><br><span class="line">		from,<span class="comment">//String[] from 数据从哪里来</span></span><br><span class="line">		to);<span class="comment">//int[] to</span></span><br><span class="line">lv.setAdapter(adapter);</span><br><span class="line"><span class="comment">//给ListView的条目设置条目点击监听</span></span><br><span class="line">lv.setOnItemClickListener(<span class="keyword">new</span> OnItemClickListener() &#123;</span><br><span class="line">	<span class="comment">//点击条目的时候，方法别调用  int position 条目的位置</span></span><br><span class="line">	@Override</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> onItemClick(AdapterView&lt;?&gt; parent, View view, <span class="built_in">int</span> position, <span class="keyword">long</span> id) &#123;</span><br><span class="line">		<span class="comment">//适配器提供了一个方法getItem(position) 可以获取条目对应的数据</span></span><br><span class="line">		Map&lt;<span class="keyword">String</span>,<span class="keyword">Object</span>&gt; <span class="built_in">map</span> = (Map&lt;<span class="keyword">String</span>, <span class="keyword">Object</span>&gt;) adapter.getItem(position);</span><br><span class="line">		<span class="keyword">String</span> <span class="built_in">text</span> = <span class="string">"姓名:"</span>+<span class="built_in">map</span>.<span class="built_in">get</span>(<span class="string">"name"</span>)+<span class="string">",age:"</span>+<span class="built_in">map</span>.<span class="built_in">get</span>(<span class="string">"age"</span>);</span><br><span class="line">		Toast.makeText(getApplicationContext(), <span class="built_in">text</span>, <span class="number">1</span>).show();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>##开发中ListView的使用步骤##</p>
<ol>
<li>在布局中写好ListView控件；</li>
<li>使用findViewById(R.id.lv)获取空间；</li>
<li>给ListView设置适配器lv.setAdapter()；</li>
</ol>
<p>其中重点和难点都是给ListView设置适配器这部分：<br><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自定义适配器继承BaseAdapter</span></span><br><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAdapter</span> <span class="keyword">extends</span> <span class="title">BaseAdapter</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> Context context;</span><br><span class="line">	<span class="keyword">private</span> List&lt;Student&gt; students;</span><br><span class="line">    <span class="comment">//布局加载器</span></span><br><span class="line">	<span class="keyword">private</span> LayoutInflater mInflater;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyAdapter</span><span class="params">(Context context, List&lt;Student&gt; students)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">		<span class="keyword">this</span>.context = context;</span><br><span class="line">		<span class="keyword">this</span>.students = students;</span><br><span class="line">		mInflater = LayoutInflater.from(context);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取ListView条目的数量</span></span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">return</span> students.<span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="function">Object <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">return</span> students.<span class="title">get</span><span class="params">(position)</span></span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">long</span> <span class="title">getItemId</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="function">View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position, View convertView, ViewGroup parent)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//使用布局加载器加载布局文件，此处的ViewGroup指向ListView，只是加载布局，而不是加在内容，因此应为null</span></span><br><span class="line">		View view = mInflater.inflate(R.layout.item, <span class="keyword">null</span>);</span><br><span class="line">		<span class="comment">//从view中获取对应的控件</span></span><br><span class="line">		<span class="comment">//findViewById(id);   findViewById(id)是加载Activity布局文件的控件，而此处是从view中获取对应控件，因此一定不能忘记要使用下面的方式获取，前面要加上view</span></span><br><span class="line">		TextView tv_name = (TextView) view.findViewById(R.id.tv_name);</span><br><span class="line">		TextView tv_age = (TextView) view.findViewById(R.id.tv_age);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//获取条目对应的数据</span></span><br><span class="line">		Student student = students.get(position);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//把数据绑定给指定的控件</span></span><br><span class="line">		tv_name.setText(student.name);</span><br><span class="line">        <span class="comment">//age是int类型，而setText()方法传入的参数有两种形式，一种是String，直接将需要的属性传进去，还有一种是int，这个int指的是resid，即资源id，会出现资源找不到异常</span></span><br><span class="line">		tv_age.setText(student.age+<span class="string">""</span>);</span><br><span class="line">		<span class="comment">//返回view，一定要返回view，否则会出现空指针异常</span></span><br><span class="line">		<span class="keyword">return</span> view;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面的代码里，其中创建ListView显示的条目又可以分为以下几个步骤：</p>
<p>View getView() {</p>
<ul>
<li>使用布局加载器加载布局；</li>
<li>找到布局中的控件；</li>
<li>找到条目对应的数据；</li>
<li>把数据绑定给对应控件；</li>
<li>返回条目</li>
</ul>
<p>}</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/01/16/" itemprop="url">
                  离职感想
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-01-16T08:56:07+08:00" content="Jan 16 2013">
              Jan 16 2013
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/感悟/" itemprop="url" rel="index">
                    <span itemprop="name">感悟</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/01/16/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/01/16/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>要离开公司了，人生历程第一份工作，总觉得应该分外珍惜，可惜事与愿违，如今却离开了。有了更好的选择就离开。更好的选择有时候是很难想得开的东西，有的人理解待遇好就都好，有的人理解公正的评价对自己很重要，有的人未雨绸缪找好了退路，有的人则更看重舒适的工作环境，更甚至有人觉得单纯地选择离开就比留下更适合自己……最近大雾比较严重，很多人都选择了戴口罩，我却固执地选择坚决不戴，这并不是说我不讲卫生、不注重自己的身体健康，因为我有鼻炎，戴上口罩呼吸说话都不方便，所以不戴口罩才是更好的选择。</p>
<p>不管怎样，总得留下点以后用以几年的寄托，所以对我来说，现在最要紧的任务就是完成这篇日志，表达我对各位朋友的感谢。希望各位都记得我的好，忘掉我的不好，即使忘不掉，也请不要让我知道。如果其中哪一位对我不满，打过我小报告或者给我穿过小鞋，都请永远不要让我知道。</p>
<p>老赵，我进公司第一个近距离接触的人，带我去的西区，带我回的东区，对所有的实习生都像是已经相处很久的老朋友，总能最真诚对每一个人，对他我要表达的不仅是感谢，他更是我的榜样，学习的目标。离开了，现在依然是邻居，总说要邀请老赵去我家吃饭，尝尝我的手艺，总被各种托辞拒绝，其实我想说我真的会做菜。以后，也许还有机会吧。</p>
<p>西勇，算是在公司对我帮助最大的一个人吧，现在我所掌握的技能知识，几乎全部都是西勇教给我的，我也把他当作自己的大哥来看待。平常工作里，我出了很多问题，给西勇造成很多麻烦，每次自己也很沮丧，但是他也从来没责怪过我，总是很耐心地帮我纠正，作为我最直接的领导，我要说抱歉，更要说谢谢。</p>
<p>郑浩，我进公司后第一个对我有重要影响的人，永远也忘不了在西区那段很短很短的日子。现在想想仍然怀念，如果一直是那个时候该多好……那个时候，我们坐的最近，接触最多，他讲的挂接数据源刚好也是那时候我掌握的最深的一段，虽然那时候所谓的学习都是很皮毛，现如今其他人讲的什么我是真的不记得了。</p>
<p>道远，是领导，也是学长。对他有佩服，有敬畏，接触的不多，但依然很感谢。现在想想，其实除了小欢，道远算是我见到的公司里的第一个人，比面试我的老板还要早。不过，估计他已经忘了。在他的领导下，我是我们那一批进公司中的第一个成项目经理的，而且真正意义上的出差也完全是我一个人，所有工作也都是一个人独立完成，虽然中间犯了很多错误，有一些不愉快，可当初我仍觉得这样的挑战和机会是自己的幸运，如今想来，却也有些迷惘了。</p>
<p>张阳、海杰、苗、高贺、刘坤、弘天的小甘和罗炜，这都是朋友了，不管他们是不是真当我是朋友，我是真的当他们是朋友了。现在想想是有蛮多遗憾的，经常在一起聊着说要团购，一起去吃东西，竟然一直到离开都没有机会。当然朋友之间经常调侃开玩笑，如果过火也可能会有一些不愉快，可我现在是什么都不记得了，我想他们也都不记得了。因为我觉得朋友应该是一辈子的。</p>
<p>恺哥，是学长，还是老乡，对我也是各种关照，希望以后在家里也能再见到他。还有环哥，当初去参加他的婚礼，上了200块的红包，因为考虑到我刚毕业就一身的债，又回给我100，代替他那段时间，也给他添了很多麻烦，实在对不起，还有万分地感谢。老曹，算是我从敬畏慢慢到熟悉以致越来越喜欢和尊重的一个人吧，难得有领导像他那样平易近人。当然还有金亭姐，就像母亲一样照顾着我们一群人，每次出差回来都给她造成很多麻烦，心里很过意不去，一直包容我的过错。传军，一些同事觉得他有些行为比较2，我倒觉得传军是难得的率真，像《步步惊心》里的十阿哥，跟他相处觉得非常容易，心里不用想任何东西。还有很多同事，都一并谢谢了。</p>
<p>说到感谢，更少不了晓兵，这是惟一一个接触过的销售，从他身上我学到了很多，许多东西别人可以教，但是他是惟一一个用亲身经历让我明白许多道理的人，我总觉得自己身上有一些东西很不适合现在的社会，那些自己曾经很引以为傲的、也曾被很多人认为是非常优秀的品质，现在看来都是幼稚。稍微有一点理想化的书生意气好像都活不下去，虽然自己以前经常会有努力去面对现实的想法，但是好像总也抹不去那份天真。也许等到自己以前不认同的东西都变成自己骨子里怎么也擦不掉的印记，我就更适合好好活下去了。</p>
<p>还有最该谢谢的，一直陪伴我的那个人，一直喊累，虽然她都不信……终于可以休息下了，其实我想说在决定要离开与真正离开之前这段时间是最累的。现在不工作了，也想说声对不起。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/9/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/11/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://easydone.qiniudn.com/default_avatar.jpg"
               alt="Ailurus" />
          <p class="site-author-name" itemprop="name">Ailurus</p>
          <p class="site-description motion-element" itemprop="description">Android Developer</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">141</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">13</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">211</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://plus.google.com/u/0/105488752510871319253" target="_blank" title="G+">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  G+
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://github.com/liangzhitao" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/liangzhitao" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://facebook.com/liangzhitao" target="_blank" title="Facebook">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Facebook
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/208087666" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://dim.red" title="明哥" target="_blank">明哥</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://nicodelee.sinaapp.com" title="日志" target="_blank">日志</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://iamwent.github.io" title="大城小黄" target="_blank">大城小黄</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://veaer.com" title="veaer" target="_blank">veaer</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://yifeiyuan.me" title="程序亦非猿" target="_blank">程序亦非猿</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://abner-nimengbo.cn" title="阿布" target="_blank">阿布</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://itangqi.me" title="汤奇" target="_blank">汤奇</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://rarnu.com" title="何老师" target="_blank">何老师</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://fucknmb.com" title="区长" target="_blank">区长</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.zhaiyifan.cn/" title="大帅" target="_blank">大帅</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://kaedea.com" title="卡老师" target="_blank">卡老师</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2012 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ailurus</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'easydonecn';
      var disqus_identifier = 'page/10/index.html';
      var disqus_title = '';
      var disqus_url = '';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
    </script>
  



  
  
  

  

  

</body>
</html>
